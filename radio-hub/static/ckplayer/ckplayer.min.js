function ckplayerConfig(){return{flashvars:{},languagePath:"",stylePath:"",config:{fullInteractive:!0,delay:30,timeFrequency:100,autoLoad:!0,loadNext:0,definition:!0,smartRemove:!0,bufferTime:200,click:!0,doubleClick:!0,doubleClickInterval:200,keyDown:{space:!0,left:!0,right:!0,up:!0,down:!0},timeJump:10,volumeJump:.1,timeScheduleAdjust:1,previewDefaultLoad:!0,promptSpotTime:!1,buttonMode:{player:!1,controlBar:!1,timeSchedule:!0,volumeSchedule:!0},liveAndVod:{open:!1,vodTime:2,start:"start"},errorNum:3,playCorrect:!1,timeCorrect:!0,m3u8Definition:{},m3u8MaxBufferLength:30,split:",",timeStamp:"",addCallback:"adPlay,adPause,playOrPause,videoPlay,videoPause,videoMute,videoEscMute,videoClear,changeVolume,fastBack,fastNext,videoSeek,newVideo,getMetaDate,videoRotation,videoBrightness,videoContrast,videoSaturation,videoHue,videoZoom,videoProportion,videoError,addListener,removeListener,addElement,getElement,deleteElement,animate,animateResume,animatePause,changeConfig,getConfig,openUrl,fullScreen,quitFullScreen,switchFull,screenshot,custom,changeControlBarShow,deleteAnimate"},menu:{ckkey:"",name:"",link:"",version:"",domain:"",more:[]},style:{loading:{file:"data:image/swf;base64,Q1dTJA8eAAB4nJVZeTxUbfs/9pAllZm0WbIvKVubJ0siSiHblGZRlBJPpXoYGV5hBlHZJin1UMhajTKZyZync+JJ2Vqk5YfSvgpp8cxvztS55/T+fn+8r4/PxXyd+9z3fd3X9b2+140GGbOwb7IctGLKJAiC3OUl5ur0yRIrBw0d5z/j1ukvgKDlk6qlCO3H81MgNzc3CBJLvrDfxFCE5ANkJ8ZMu+SHHRczEZixk5oIiYEkBhJjpp0rMVypaZeYCKmRvGrd9LVbdWbXHPgkdFEbTX2ttF/u0yK5j+tC1vqFuLZMhaHpaqmjaiz5KWaqDFP2rHbfmaeNagNOvzt3ck6Um+ZrzW2njo2qnsv7qnfJlAWJVbUlK5aXrDlNWVlO8gNykXwWq8aqQZAClPIDlcfQHGUlOQgR+4sreZyj1XbdAJrY+8+VJo5qr+bYOhcoVwp9jZpwEJiMnp9n08vCsTH7b3qCDPv3ZcvbAfahe3yb4EWWzUhFLA3HXnmNzhMZDT40sNqwH8cGJ39UFgWOVWnY/N2LY/dt3hSKUjUTRr0OFeBYh+PzYlHDEt+2VSgYe81qUFf0KMqQ6z22yQU6LMUuT3uohig6Jw4GaByBcLBq/A4TmWG5e3tAWDYLB4sf33yP2NzceizgAhuAWS0oDXEL3HSXIjfQgoPMi0IKEjg7cBfFYoCGg9tR3hMkcubq3ZSAAX0cDP2nWozs93B/TEkYcMFBzx1/NiIZOUubKGUDpTi4UMilIkUf7TIoHYPgyTlncgKQs2usKJTxJ+CdqoOpH5GLNcZVG/Sf4qDopdJLFZKiVeLb6LkF+DZFAgOBEWkBM9Ij+spxAOY65DqRKKn+op3BfwKQ6kB1IiUzl3vs/FwNQNs/bBNIpzbP94tJ5wFQTlVOndR8zeBUhvp73CGC0+orZlF9tUOVDTzbcNcJXOVTJlMLcu1Rw+A70M8jahLu/fIxaYFLZFE2Ne0nxut9dx0Ra0DxjJUHxn9iNUtMV1PFsVCQcfAEHkKNj++OIeKT0AIGA6r/ifGr4is/JqW2OPcW90f9nFj4yfrZRiov13ilaasFvhrhYZ7RDuo+7RVpZhlL8c0ILfICrahz62Mdzb3W4CA8dGgoh1R70aySE0/Cdwg3HmhMIuW+ccrmlM7CjwfOsMmYT9p53IvHgfX7cZACU/4ieb7ZqMHpN8ZPF7bxtvEhzXr6+2HOd7AkWP6V/Gvdt2XsBZk68/EwQl99ivsDqak0t2L8rWGLg3czt3sgJ0W2+oybh2JxEO6ib0VyB5xyGZ059ThYdyf4FZI8dfk+RnfuOA6WnPLtRGLpnp2MHh188WjW0pWzkU096woZPVPxJaHxJ53XIj7zKdsY3dPwHaHbpzhkIE7izXKMTl084NCNu20WI/OmR48x2gu34qDvTdMIRCtpvyujtagCB93MDaaJRg6px2VqRuIOQR1zZnqKWsecNDhjO8DslsHTz4m4SyLaOL2/gycNRrW/irYfyovj8PcCL82om3xP5KwMT3AKEvCDQ3XYqitEGuiwMyc2CbxzMlt5heBKe8Zecz0tAKo0KPQKKBPeumYMfTy8UIUuuRdNQ/ujQk54teKYXCR0oclgZkJvseokHIOsId2GmJdK7Pg8FyJ2Pjdogr2isJQ4lv94JDUkl11PnIOvV5jfm8V+SlyMsFyNN2aolgYRly1csXRfgf7XwyziBuFhZw0kffwsRHQFDE84K6XXV9KIToPz4rZnp0ecKyW6F45o4y5O16thEQ8CdtJoHU1rraMRjwxWjxvJTouv7yceLvohJf0qnVOdQQwD9MGbI2r0vdWtxIBBW+WLxXSGNUQMLfRid3kh3ddanxiE6Cmbum30Rda2xHBFc0ov29LnyUAssNED71rYdK0aM2IKoDH6rbG0b9aTiMmC0lw6+mnPrXqJaYX6h9y9TeuxAlmJJeAMnfC9XSljDfiSpKlKfmJ06PeUijqQ/lhSky/P/HM0hVILiAJLf/Lh7ZfWpGhWg+EYUZBjZrbGJV+r+oVSyH4B90KTmWfx2aXkQ+uPybmr2J33C03R2FpX0hTOZwAQIzSad04fKl/FZBGZj5VwFQ5RrhQSGBKFGOIOmrqJPoFJaVCduDGpLxAiMC4KjYjTIt+X0YjMzOpYXsQd33qbSOG0bTk3Vib6G+ObkZI97bzWWWXmsWm/lAWyu/tj+onvLHyH0gJC3vRnZ0Ni5Qd8M9JSQz6Q2SJIpD8GIFaUyOX/qnFNnPE3ALHyRb6VWSRgDlwCE2GFjvztQcp0ZsOfoEpjJRH1Wd8XRDXYDIo8VjzRkIs9Z6gzqADEyiwaqd2+n6oTike2tCCj+3Zd86RqrAfvxEo3mt7cbEhVW/tLkUeLnl3Ipqp6AxCTA2jV06pDVHUPULox4YAKqk9ZUDVdQOnGJAbaZV8YEWTyBkyEiRH02d2s/CDHe2CdmGxBv11LmRPk9RdE1DewIffRttD4ZqIOgn3bGhaHDsYS9RKcMJqqQaEYEnUVXKUROOpw6Rf9BT80MBpwHDMj6jQhKaFrWv9tfaKeE+7r0d68+iqLqPuE93XWPA2pZRHlIX+vspmW+QuiiGyMy1pvnyPZRSoGSVWnVGsqYCoakXxSxFW0LkFFq6io4FK6XaKiI7hSI9HOERFSE4EZLmbaMSMZIY6AMIOJbuyvYuyvYkxUi9ulBsO4UoM9gr3vv5LXO/4Tea2Ey2tFXF6TJU2EMrQZOoqhShCa/9n7G5o/zlOkW1mDYlzrGqyPsjZe7abryCjv+vvwz+h2s7930MZk7DaQGYugISd6GmgPZYQ70XCgF13Z/bCQJrLCizG8sG/hA/Lj4lxeSqmMyGIsYizJZyyr36YsqsEDGK5SrlIh7/t2TSm5rwo8+ZLxMpy81r2XnrxXxllr1h+rpom0TqYp7joMVFSncelqGnVtZ4SCWjKgp4r4Ux9ZB6629CpXwj+x80cqLclQj5jLmlXYglORW9RUFGKJWyJHyvCq21RisqeBdXH5mRnjLwZx1vGPKntIi6tDHBMtjAAV3XI/nkXr0zqqzPTWAAxhusU0khxq2ROdyBsFYLhruDs5+cJV88TAR4BgSu+XPiBfXFo+lCh3DTx5n3f/Evl1MceBKTgnI5ju1Jeoj39fMFV/M8hm44ojt9Gwoi576vQwQAa/jZyMR2OPXL9E1QwG2RziVT0PTVvY/Jyqug6AO8cvMdHjjg1DVNVVYKKDG+Fa9GJveR5V3Q30Btw57TnozSzukiB9wKNI9bK7c9AXnZlFQfZ3QFY2X368EVYpGd8SuvAdjrX/9mwu7JYsSA7lpwGGsH1TBDOt/3WH4j0Px572D8fC/IMeiY7KuAxH3ul+VofHJlSVnPIzcGy05Wu/MCbBYNpQLq5/kG+rJ84Ih8/rlW2wAGzwT4HYh99flpgTKnFO9g82GBF/rTobtGoroAczcR7vgs5Wuw9g2HfHf2Y2DRbFdR5l4m//HPWNJ9jpYFS2uEPWT/qOmwo+WM29WFEPeOr58U+3RPaDNwysvoGVPdzzbolod0FWtJcmrsyQTvkXcqKa8/5+qwpA7yjZVKLo5RzdIR/HINzF9dq9k5ApS/eFBzjlgGM7sa7DDLHcFrU64KSsTWS/uDaCeAjCDCnKAwCMk+cnI2FxfispS2UdYdieWj4Sp+CRRNklAz34px8h7NdL1SlnZMMtI/IvICf8bHspjwZBeE1ZlnECqZ9iOr5hyhMQxy9nv5xLUnhzQCN6Zj6I4xpezSWSy2TqRPTrEvDk7vzdhaTfH3pO31l3FoD2j+z/h3Rij21bzL4LILU+LO1nUhU/JBboU1sAuHPhwx3UvfUrGg06buEn0TRYyPk9ScPlj6KsJNybvAvWXERsDu1geCZBPw+26qykU5twkSsqoMnjJNF/JeVjUnmLdUgx5I+zyTBvaAf1YqfxGdNWc0AxMczH36kbtf2VzSQkgTPU2D9jYtLljUZ3ODumA9rip/HTSUdTHV05J2YCoce0Yc4nbW5fU8JpNwBPuqW5pZNsRyLZnGEz8E6VYyrFusNP0w5n6tgAjfyiZ882pNrZfJBxQ2MRDt7MjkAR7my7XYyOQy9w8OIDSjRykOrsJ2m/cnHwuJPvTGTnF69Uxm0dLxxMc3DXQ0JWBTyUtF9geOzRRauQ30ZpaYyufCDbwwptbiDG56ItGTcLQcHw8TOuQFR7EkiMVvIHHFwyNHuX6H6jyZpM+Sig5a2n6GaISvuo5pz+WPBO/e3aDqJw7+NNnMZ9QKHr+qgbi0yjermcDCZQ/RqnlDsFt1aH7zX3Vpf1TxsUagT+0RsczRgGuDpB5bvktjaVLM4MKfF6DPqiZMiF5xb3lrF53mWAOUB6548U3Gd7EXqlb9AEvyJuU0gOJmZ/TKI0Kv9V2GlIRQ05ybK+SEtZRbgmYEuEgV4uWM7ULtUX8MstuiXpb0BUo7PFmmK4SjXwS3oWKGqoefY0FI5ZkNuVblEDfOl0dmYPvPDRTeO0a3XAQyvvGEWhE/XJZvQiK+DLkBIrX3SAk7OUnmgl63bMHfLQ6++Oq9LDZd0OK8zFBq39rWKA7lkDCvq/lX6pDFKQiAOJDLov+aSCyyA9ggzy8PAQQytWrBBDJiYmuCDCrhV/qCLsbvGHKuJG4KoIu1uMgKSGi91BYgZTQHbY3aIdJpfs7KRGjN1BisXSmbBHxVA7dmvZbvffSqPq/0QaTcKlkQoujXolIkkVWgYdwtBJ0A0IaoEm+yjKumUFuWS+v/JlcnblXdyH6uVK3cL124MdDSxygbf1AjTM4aszXF6mV1WCE7RRIsnDlLbyxenKtaDh9Lxk9AD9rp/8gZ5fDa4tthxd2IZ2uBTR6FFWIJnSv7h/R8tbavTpzrITrGsLfooeGG9JpWtZgy60zzpaFw2r6rKkDVbjDSesc0Tn6AzoQlJlyt16QDm7D+xOIp8Or+1KsakBHWMv3PsXOeR1T3ZyVgUeaUK2sw6TlrP2coQCnw00lcB7dAFr59XWXmVV/k+sobbvPRl6Lc4+2Z8HaHpyFPkhzXtt37NEvg0A+6e2WNFe1XEamRaqoEhQwihUcoICnJy4pV/Wd5UITpI7FIqSCX0XorU5/Tzq29x7mjqHge8HWbqnhI9Gw21zqVrBANw8+bwyenjZJQZVdTWQMGz02hOUr3n6C1XDFbyzcuT2V3TINzs0yP4eKOyo7RMybLHmDi+UUw2K+IF3y+Gs6N35lBRFHHubNvYXPFyuEeZ0MBfHvtC+1wuF3v/aE7gQ6AmxvfhYo1/2Hvv5v0C82iNZUtUhGylwFTDzFoK7SukMIo1Nw+WWli3ElfyQE7qlxBWL7jRarPFuZBC3huhd2HU2gJoNEZ2AeHwKU6FMkl38Yu5CdiJeJyhbZIIAcyxyZLnjAEU40E88AqTBw3TTBt0nLcTDIi1QjEwm3vFix0o6qOicHKNSzSIGAHV6bFyQfiHMIoYKlddpbGL4/AGLEFMk8Swoju36D0SMvaTDLU4hxaW/BCk1ttPzjFnRUhYxnElnZ1nFcdLIvwQ+KazMbwGn27CfmCK64vWs0MzJ1jRiMiGng23uMG4eMiOmHZKsupwpKau/JChCcfXvl1RQcM+DpTJiK4osZXToAibAkh5RGDigzUC5IUR6EJUvobRxBmPB7BiRiFxeXZ3BORYPhmOUIzh3vOKuubwOi8hNTbWqXuSSrX0uUBaGEfhLSu1KEnKTUDtV8kkNp3Z5ArXrYxT7dvvnkmEouNo0xLJFi9uixUmB4zmwJnRCG6pYb1qxHtJmu/hMWeZjNzXtRcbrvBdXqp5fP5ZbcndWj7vDq6nB5iMOO9f+JFh1nGDVcIK1kLTYkyGzH6g6BCL7C+V7jcAtOsHeThbtQ0eG20SuBcJo6xtkHEOsBgtE94+ZbPN+DBQoF2pnIQsrI6oD/mKDyGY4NsxEYjM9r1C2yv7PYbjo8Cyk7IH1UcrHQfzQRbxQ3gbSopFwdvQ9mSzVe6v3nlS7w+xmzI0moCufph9Z8ENXnsQ7gcbmuCeImA0tY4Sz8PorjNx4q5ka+CFQ16zXDURhvmG+EWl/s3s55/JcIAP/3wt3QfimBiTr4GIho0tbGweTeS59SEBgUBCjO28dDq4dNf2KTPHbF8JoIwNxZx4z7ZIod2dMPuf2LqA9tAxUcgXPy2xR8ygVEDFyAuhxk3vUcFFxxXcixm8u1yjKaeMTBwvJ4R0r9eMLWMRp4Jj83Oh0M5lwwRaEvqvPqKCzrXKJS0erqyur6B6yEoVtEt3NRN3octbaRHf8n+tPzHHkdJ/msOSvoP2VuphWNb9qTNEim0U4CxTaL75Gm3xmEfHMWJ+Wp3E/t7YSD5fsV3zPIfHmF4gYBuTrU4//wXzLZxEDBt1g0h1NJW3SJ4YWmrP3sgdVDfyPRhqE6M0Q7vqgeTIOx6IVNtl2nxua0kiMalgY7Zrv6NhPjH6h4Fjq7UA71r9dSqlI0kX6+/8ClbctuA==",align:"center",vAlign:loading_ps,offsetX:-30,offsetY:-62},advertisement:{time:5,method:"get",videoForce:!1,videoVolume:.6,skipButtonShow:!1,linkButtonShow:!0,muteButtonShow:!0,closeButtonShow:!0,closeOtherButtonShow:!0,frontSkipButtonDelay:0,insertSkipButtonDelay:0,endSkipButtonDelay:0,frontStretched:2,insertStretched:2,pauseStretched:2,endStretched:2},video:{defaultWidth:4,defaultHeight:3}}}}!function(){var javascriptPath=static_url?static_url+"/ckplayer/":"",scriptList,thisPath;javascriptPath||(scriptList=document.scripts,thisPath=scriptList[scriptList.length-1].src,javascriptPath=thisPath.substring(0,thisPath.lastIndexOf("/")+1));var ckplayer=function(e){this.config={videoClick:!0,videoDbClick:!0,errorTime:100,videoDrawImage:!1},this.varsConfig={playerID:"",container:"",variable:"ckplayer",volume:.8,poster:"",autoplay:!1,loop:!1,live:!1,duration:0,seek:0,drag:"",front:"",next:"",loaded:"",flashplayer:!1,html5m3u8:!1,track:null,cktrack:null,preview:null,prompt:null,video:null,config:"",type:"",crossorigin:"",crossdomain:"",unescape:!1,mobileCkControls:!1,playbackrate:1,debug:!1},this.vars={},this.language={volume:"音量：",play:"点击播放",pause:"点击暂停",full:"点击全屏",escFull:"退出全屏",mute:"点击静音",escMute:"取消静音",front:"上一集",next:"下一集",definition:"点击选择清晰度",playbackRate:"点击选择速度",error:"加载出错"},this.contextMenu=[["ckplayer","link","http://www.ckplayer.com"],["version:X","default","line"]],this.errorList=[["000","Object does not exist"],["001","Variables type is not a object"],["002","Video object does not exist"],["003","Video object format error"],["004","Video object format error"],["005","Video object format error"],["006","[error] does not exist "],["007","Ajax error"],["008","Ajax error"],["009","Ajax object format error"],["010","Ajax.status:[error]"]],this.playbackRateArr=[[.5,"0.5倍"],[1,"正常"],[1.25,"1.25倍"],[1.5,"1.5倍"],[2,"2倍速"],[4,"4倍速"]],this.playbackRateDefault=1,this.logo="",this.loaded=!1,this.timerError=null,this.error=!1,this.errorUrl=[],this.timerFull=null,this.full=!1,this.timerTime=null,this.timerBuffer=null,this.isTimeButtonMove=!0,this.isTimeButtonDown=!1,this.isClick=!1,this.timerClick=null,this.timerLoading=null,this.timerCBar=null,this.needSeek=0,this.volume=0,this.volumeTemp=0,this.time=0,this.isFirst=!0,this.html5Video=!0,this.pdCoor={x:0,y:0},this.playerType="",this.loadTime=0,this.body=document.body||document.documentElement,this.V=null,this.listenerJsArr=[],this.buttonLen=0,this.buttonArr=[],this.buttonWidth={},this.elementArr=[],this.track=[],this.trackIndex=0,this.nowTrackShow={sn:""},this.trackElement=[],this.timerVCanvas=null,this.animateArray=[],this.animateElementArray=[],this.animatePauseArray=[],this.previewStart=0,this.previewDiv=null,this.previewTop=null,this.previewWidth=120,this.previewTween=null,this.isM3u8=!1,this.promptArr=[],this.promptElement=null,this.ckplayerConfig={},this.showFace=!0,this.errorAdd=!1,this.errorSend=!1,this.controlBarIsShow=!0,this.fontFamily='"Microsoft YaHei"; YaHei; "FAE8F6F96C59ED1"; SimHei; "9ED1F53";Arial',this.timeSliderLeftTemp=0,e&&this.embed(e)};ckplayer.prototype={embed:function(c){if("file://"!=window.location.href.substr(0,7))if(null!=c&&c){"object"!=typeof c&&this.eject(this.errorList[1]),this.vars=this.standardization(this.varsConfig,c),!this.vars.mobileCkControls&&this.isMobile()&&(this.vars.flashplayer=!1,this.showFace=!1);var videoString=this.vars.video;if(videoString)if("string"==typeof videoString&&("CK:"!=videoString.substr(0,3)&&"CE:"!=videoString.substr(0,3)&&"CK:"!=videoString.substr(8,3)&&"CE:"!=videoString.substr(8,3)||(this.vars.flashplayer=!0)),this.vars.config?this.ckplayerConfig=eval(this.vars.config+"()"):this.ckplayerConfig=ckplayerConfig(),!this.supportVideo()&&""!=this.vars.flashplayer||this.vars.flashplayer&&this.uploadFlash()||!this.isMsie())this.html5Video=!1,this.getVideo();else{if(videoString)return this.analysedVideoUrl(videoString),this;this.eject(this.errorList[2])}else this.eject(this.errorList[2])}else this.eject(this.errorList[0]);else alert("Please use the HTTP protocol to open the page")},analysedVideoUrl:function(e){var t=this;if(this.VA=[],"string"==typeof e)if("website:"!=e.substr(0,8)){this.VA=[[e,"","",0]];var i=this.getFileExt(e);switch(i){case".mp4":this.VA[0][1]="video/mp4";break;case".ogg":this.VA[0][1]="video/ogg";break;case".webm":this.VA[0][1]="video/webm"}this.getVideo()}else if(this.html5Video){var s={url:e.substr(8),success:function(i){i?t.analysedUrl(i):(t.eject(t.errorList[5]),this.VA=e,t.getVideo())}};this.ajax(s)}else this.VA=e,this.getVideo();else"object"==typeof e?this.isUndefined(typeof e.length)?this.isUndefined(e.type)?this.eject(this.errorList[5]):(this.VA.push([e.file,e.type,"",0]),this.getVideo()):(this.isUndefined(typeof e[0].length)||(this.VA=e),this.getVideo()):this.eject(this.errorList[4])},analysedUrl:function(e){this.vars=this.standardization(this.vars,e),this.isUndefined(e.video)||(this.vars.video=e.video),this.analysedVideoUrl(this.vars.video)},getHtml5Video:function(){var e=this.VA,t=[],i=!1,s=document.createElement("video"),n=function(e){var t="";switch(e){case"video/mp4":t="avc1.4D401E, mp4a.40.2";break;case"video/ogg":t="theora, vorbis";break;case"video/webm":t="vp8.0, vorbis"}return t},a=function(e,t){if(s.canPlayType){var i=s.canPlayType(e+';codecs="'+t+'"');return""!=i}this.html5Video=!1};if(!this.vars.flashplayer&&this.isMsie()){this.isMobile()&&(i=!0);for(var r=0;r<e.length;r++){var o=e[r];o&&(""!=o[1]&&!i&&a(o[1],n(o[1]))&&"rtmp"!=o[0].substr(0,4)&&t.push(o),".m3u8"!=this.getFileExt(o[0])&&"video/m3u8"!=this.vars.type&&"m3u8"!=this.vars.type&&"video/m3u8"!=o[1]&&"m3u8"!=o[1]||!this.vars.html5m3u8||(this.isM3u8=!0,t.push(o)))}t.length>0?this.VA=t:i||(this.html5Video=!1)}else this.html5Video=!1},getVideo:function(){if(this.V)this.changeVideo();else{this.vars.cktrack&&this.loadTrack(),this.supportVideo()&&!this.vars.flashplayer&&this.getHtml5Video();var e=this,t=this.vars,i="",s="",n="",a="",r="",o="",l=(t.video,0);if(this.CD=this.getByElement(t.container),volume=t.volume,!this.CD)return this.eject(this.errorList[6],t.container),!1;var h="ckplayer"+this.randomString(),d=document.createElement("div");if(d.className=h,this.V=void 0,this.CD.innerHTML="",this.CD.appendChild(d),this.PD=this.getByElement(h),this.css(this.CD,{backgroundColor:"#000000",overflow:"hidden",position:"relative"}),this.css(this.PD,{backgroundColor:"#000000",width:"100%",height:"100%",fontFamily:this.fontFamily}),this.html5Video){if(this.PD.onselectstart=this.PD.ondrag=function(){return!1},1==this.VA.length)i=' src="'+decodeURIComponent(this.VA[0][0])+'"';else{var c=this.VA.slice(0);for(c=this.arrSort(c),l=0;l<c.length;l++){var u="",p=c[l];p[1]&&(u=' type="'+p[1]+'"',' type="video/m3u8"'!=u&&' type="m3u8"'!=u||(u="")),s+='<source src="'+decodeURIComponent(p[0])+'"'+u+">"}}if(t.autoplay&&(r=' autoplay="autoplay"'),t.poster&&(n=' poster="'+t.poster+'"'),t.loop&&(a=' loop="loop"'),t.seek>0&&(this.needSeek=t.seek),null!=t.track&&null==t.cktrack){var f=t.track,m="",v=!1;for(l=0;l<f.length;l++){var g=f[l];g.default&&!v?(m=" default",v=!0):m="",o+='<track kind="'+g.kind+'" src="'+g.src+'" srclang="'+g.srclang+'" label="'+g.label+'"'+m+">"}}var y=this.ckplayerConfig.config.autoLoad,b="";y||(b=' preload="meta"');var C=this.randomString(),k="";this.showFace||(k=' controls="controls"');var B="";B=this.isM3u8?'<video id="'+C+'" width="100%" height="100%"'+n+a+b+k+' x5-playsinline="" playsinline="" webkit-playsinline="true">'+o+"</video>":'<video id="'+C+'"'+i+' width="100%" height="100%"'+r+n+a+b+k+' x5-playsinline="" playsinline="" webkit-playsinline="true">'+s+o+"</video>",this.PD.innerHTML=B,this.V=this.getByElement("#"+C),this.vars.crossorigin&&(this.V.crossOrigin=this.vars.crossorigin);try{this.V.volume=volume,this.playbackRateArr&&this.vars.playbackrate>-1&&(this.vars.playbackrate<this.playbackRateArr.length&&(this.playbackRateDefault=this.vars.playbackrate),this.V.playbackRate=this.playbackRateArr[this.playbackRateDefault][0])}catch(e){}if(this.css(this.V,{width:"100%",height:"100%"}),this.isM3u8){var w=function(){e.embedHls(e.VA[0][0],t.autoplay)};this.loadJs(javascriptPath+"hls/hls.min.js",w)}if(this.css(this.V,"backgroundColor","#000000"),this.config.videoDrawImage){var x="vcanvas"+this.randomString(),T=document.createElement("div");T.className=x,this.PD.appendChild(T),this.MD=this.getByElement(x),this.css(this.MD,{backgroundColor:"#000000",width:"100%",height:"100%",position:"absolute",display:"none",cursor:"pointer",left:"0px",top:"0px",zIndex:"10"});var I="ccanvas"+this.randomString();this.MD.innerHTML=this.newCanvas(I,this.PD.offsetWidth,this.PD.offsetHeight),this.MDC=this.getByElement(I+"-canvas"),this.MDCX=this.MDC.getContext("2d")}this.playerType="html5video",this.addVEvent(),this.showFace&&(this.definition(),!this.vars.live&&this.playbackRateArr&&this.vars.playbackrate>-1&&this.playbackRate(),t.autoplay&&this.loadingStart(!0)),this.playerLoad()}else this.embedSWF()}},playerLoad:function(){var e=this;this.isFirst&&(this.isFirst=!1,window.setTimeout(function(){e.loadedHandler()},1))},addVEvent:function(){var e=this,t=function(t){e.videoClick()};this.addListenerInside("click",t),this.addListenerInside("click",t,this.MDC),this.timerErrorFun();var i=function(t){e.sendJS("loadedmetadata"),e.sendJS("duration",e.V.duration),e.judgeIsLive()};this.addListenerInside("loadedmetadata",i);var s=function(t){e.playingHandler(),e.sendJS("play"),e.sendJS("paused",!1)};this.addListenerInside("playing",s);var n=function(t){e.pauseHandler(),e.sendJS("pause"),e.sendJS("paused",!0)};this.addListenerInside("pause",n);var a=function(t){null!=e.timerLoading&&e.loadingStart(!1),e.time&&e.sendJS("time",e.time)};this.addListenerInside("timeupdate",a);var r=function(t){e.loadingStart(!0)};this.addListenerInside("waiting",r);var o=function(t){e.sendJS("seek","start")};this.addListenerInside("seeking",o);var l=function(t){e.seekedHandler(),e.sendJS("seek","ended")};this.addListenerInside("seeked",l);var h=function(t){e.endedHandler(),e.sendJS("ended")};this.addListenerInside("ended",h);var d=function(t){try{e.volumechangeHandler(),e.sendJS("volume",e.volume||e.V.volume)}catch(t){}};this.addListenerInside("volumechange",d);var c=function(t){var i=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen;e.sendJS("full",i)};this.addListenerInside("fullscreenchange",c),this.addListenerInside("webkitfullscreenchange",c),this.addListenerInside("mozfullscreenchange",c),this.showFace&&this.interFace()},resetPlayer:function(){this.timeTextHandler(),this.showFace&&(this.timeProgress(0,1),this.changeLoad(0),this.initPlayPause(),this.definition(),this.showFrontNext(),this.deletePrompt(),this.deletePreview(),this.trackHide(),this.resetTrack(),this.trackElement=[],this.track=[])},interFace:function(){this.showFace=!0;var e=this,t="",i=38,s=38,n="#FFFFFF",a="#0782F5",r=this.formatTime(0)+" / "+this.formatTime(this.vars.duration),o=this.randomString(10),l="controlbgbar"+o,h="controlbar"+o,d="timeprogressbg"+o,c="loadprogress"+o,u="timeprogress"+o,p="timebobg"+o,f="timebo"+o,m="timebw"+o,v="timetext"+o,g="play"+o,y="pause"+o,b="front"+o,C="next"+o,k="full"+o,B="escfull"+o,w="mute"+o,x="escmute"+o,T="volume"+o,I="volumedbg"+o,S="volumebg"+o,F="volumeup"+o,E="volumebo"+o,L="volumebw"+o,V="definition"+o,P="definitionp"+o,j="playbackrate"+o,M="playbackratep"+o,A="promptbg"+o,D="prompt"+o,H="dline"+o,R="menu"+o,O="pausecenter"+o,W="loading"+o,U="errortext"+o,J="logo"+o,z=document.createElement("div"),N=document.createElement("div"),q=document.createElement("div"),X=document.createElement("div"),Z=document.createElement("div"),G=document.createElement("div"),K=document.createElement("div"),Y=document.createElement("div"),Q=document.createElement("div"),_=document.createElement("div"),$=document.createElement("div"),ee=document.createElement("div"),te=document.createElement("div");if(z.className=l,N.className=h,q.className=d,X.className=p,K.className=A,Y.className=D,Q.className=R,_.className=P,$.className=M,Z.className=O,ee.className=W,te.className=J,G.className=U,this.PD.appendChild(z),this.PD.appendChild(N),this.PD.appendChild(q),this.PD.appendChild(X),this.PD.appendChild(K),this.PD.appendChild(Y),this.PD.appendChild(_),this.PD.appendChild($),this.PD.appendChild(Z),this.PD.appendChild(ee),this.PD.appendChild(G),this.PD.appendChild(te),this.body.appendChild(Q),this.vars.live&&(r=this.getNowDate()),t+='<div class="'+g+'" data-title="'+e.language.play+'">'+this.newCanvas(g,i,s)+"</div>",t+='<div class="'+y+'" data-title="'+e.language.pause+'">'+this.newCanvas(y,i,s)+"</div>",t+='<div class="'+H+'-la"></div>',t+='<div class="'+b+'" data-title="'+e.language.front+'">'+this.newCanvas(b,i,s)+"</div>",t+='<div class="'+H+'-lb"></div>',t+='<div class="'+C+'" data-title="'+e.language.next+'">'+this.newCanvas(C,i,s)+"</div>",t+='<div class="'+H+'-lc"></div>',t+='<div class="'+v+'">'+r+"</div>",t+='<div class="'+k+'" data-title="'+e.language.full+'">'+this.newCanvas(k,i,s)+"</div>",t+='<div class="'+B+'" data-title="'+e.language.escFull+'">'+this.newCanvas(B,i,s)+"</div>",t+='<div class="'+H+'-ra"></div>',t+='<div class="'+V+'" data-title="'+e.language.definition+'"></div>',t+='<div class="'+H+'-rb"></div>',t+='<div class="'+j+'" data-title="'+e.language.playbackRate+'"></div>',t+='<div class="'+H+'-rc"></div>',t+='<div class="'+T+'"><div class="'+I+'"><div class="'+S+'"><div class="'+F+'"></div></div><div class="'+E+'"><div class="'+L+'"></div></div></div></div>',t+='<div class="'+w+'" data-title="'+e.language.mute+'">'+this.newCanvas(w,i,s)+"</div>",t+='<div class="'+x+'" data-title="'+e.language.escMute+'">'+this.newCanvas(x,i,s)+"</div>",t+='<div class="'+H+'-rd"></div>',this.getByElement(h).innerHTML=t,this.getByElement(d).innerHTML='<div class="'+c+'"></div><div class="'+u+'"></div>',this.getByElement(p).innerHTML='<div class="'+f+'"><div class="'+m+'"></div></div>',this.getByElement(O).innerHTML=this.newCanvas(O,80,80),this.getByElement(W).innerHTML=this.newCanvas(W,60,60),this.getByElement(U).innerHTML=this.language.error,this.ckplayerConfig.style.logo){if(this.ckplayerConfig.style.logo.file){var ie=this.ckplayerConfig.style.logo.file;"data:image/png;"!=ie.substr(0,15)&&"data:image/jpg;"!=ie.substr(0,15)&&"data:image/jpeg;"!=ie.substr(0,15)||(this.getByElement(J).innerHTML='<img src="'+ie+'" border="0">')}}else this.getByElement(J).innerHTML=this.vars.logo||this.logo||"";var se=this.PD;this.CB={controlBarBg:this.getByElement(l,se),controlBar:this.getByElement(h,se),promptBg:this.getByElement(A,se),prompt:this.getByElement(D,se),timeProgressBg:this.getByElement(d,se),loadProgress:this.getByElement(c,se),timeProgress:this.getByElement(u,se),timeBoBg:this.getByElement(p,se),timeButton:this.getByElement(f,se),timeText:this.getByElement(v,se),play:this.getByElement(g,se),front:this.getByElement(b,se),next:this.getByElement(C,se),pause:this.getByElement(y,se),definition:this.getByElement(V,se),definitionP:this.getByElement(P,se),definitionLine:this.getByElement(H+"-rb",se),playbackrate:this.getByElement(j,se),playbackrateP:this.getByElement(M,se),playbackrateLine:this.getByElement(H+"-rc",se),full:this.getByElement(k,se),escFull:this.getByElement(B,se),mute:this.getByElement(w,se),escMute:this.getByElement(x,se),volume:this.getByElement(T,se),volumeBg:this.getByElement(S,se),volumeUp:this.getByElement(F,se),volumeBO:this.getByElement(E,se),pauseCenter:this.getByElement(O,se),menu:this.getByElement(R),loading:this.getByElement(W,se),loadingCanvas:this.getByElement(W+"-canvas",se),errorText:this.getByElement(U,se),logo:this.getByElement(J,se),playLine:this.getByElement(H+"-la",se),frontLine:this.getByElement(H+"-lb",se),nextLine:this.getByElement(H+"-lc",se),fullLine:this.getByElement(H+"-ra"),definitionLine:this.getByElement(H+"-rb",se),muteLine:this.getByElement(H+"-rd",se)},this.buttonWidth={play:i,full:i,front:i,next:i,mute:i},this.css(l,{width:"100%",height:s+"px",backgroundColor:"#000000",position:"absolute",bottom:"0px",filter:"alpha(opacity:0.8)",opacity:"0.8",zIndex:"90"}),this.css(h,{width:"100%",height:s+"px",position:"absolute",bottom:"0px",zIndex:"90"}),this.css(O,{width:"80px",height:"80px",borderRadius:"50%",position:"absolute",display:"none",cursor:"pointer",zIndex:"100"}),this.css(W,{width:"60px",height:"60px",position:"absolute",display:"none",zIndex:"100"}),this.css(U,{width:"120px",height:"30px",lineHeight:"30px",color:"#FFFFFF",fontSize:"14px",textAlign:"center",position:"absolute",display:"none",zIndex:"101",cursor:"default",zIndex:"100"}),this.css(J,{height:"30px",lineHeight:"30px",color:"#FFFFFF",fontFamily:"Arial",fontSize:"28px",textAlign:"center",position:"absolute",float:"left",left:"-1000px",top:"20px",zIndex:"100",filter:"alpha(opacity:0.8)",opacity:"0.8",cursor:"default"}),this.css(this.CB.loadingCanvas,{transform:"rotate(0deg)",msTransform:"rotate(0deg)",mozTransform:"rotate(0deg)",webkitTransform:"rotate(0deg)",oTransform:"rotate(0deg)"}),this.css([A,D],{height:"30px",lineHeight:"30px",color:"#FFFFFF",fontSize:"14px",textAlign:"center",position:"absolute",borderRadius:"5px",paddingLeft:"5px",paddingRight:"5px",bottom:"0px",display:"none",zIndex:"95"}),this.css(A,{backgroundColor:"#000000",filter:"alpha(opacity:0.5)",opacity:"0.5"}),this.css(d,{width:"100%",height:"6px",backgroundColor:"#3F3F3F",overflow:"hidden",position:"absolute",bottom:"38px",zIndex:"88"}),this.css([c,u],{width:"1px",height:"6px",position:"absolute",bottom:"38px",top:"0px",zIndex:"91"}),this.css(c,"backgroundColor","#6F6F6F"),this.css(u,"backgroundColor",a),this.css(p,{width:"100%",height:"14px",overflow:"hidden",position:"absolute",bottom:"34px",cursor:"pointer",zIndex:"92"}),this.css(f,{width:"14px",height:"14px",overflow:"hidden",borderRadius:"50%",backgroundColor:n,cursor:"pointer",position:"absolute",top:"0px",zIndex:"20"}),this.css(m,{width:"8px",height:"8px",overflow:"hidden",borderRadius:"50%",position:"absolute",backgroundColor:a,left:"3px",top:"3px"}),this.css(v,{lineHeight:s+"px",color:"#FFFFFF",fontFamily:"arial",fontSize:"16px",paddingLeft:"10px",float:"left",overflow:"hidden",cursor:"default"}),this.css([H+"-la",H+"-lb",H+"-lc",H+"-ra",H+"-rb",H+"-rc",H+"-rd"],{width:"0px",height:s+"px",overflow:"hidden",borderLeft:"1px solid #303030",borderRight:"1px solid #151515",filter:"alpha(opacity:0.9)",opacity:"0.9"}),this.css([H+"-la",H+"-lb",H+"-lc"],"float","left"),this.css([H+"-ra",H+"-rb",H+"-rc",H+"-rd"],"float","right"),this.css([H+"-lb",H+"-lc",H+"-rb",H+"-rc"],"display","none"),this.css([g,y,b,C],{width:i+"px",height:s+"px",float:"left",overflow:"hidden",cursor:"pointer"}),this.css([b,C],"display","none"),this.initPlayPause(),this.css([w,x],{width:i+"px",height:s+"px",float:"right",overflow:"hidden",cursor:"pointer"}),this.vars.volume>0?this.css(x,"display","none"):this.css(w,"display","none"),this.css([T,I],{width:"110px",height:s+"px",overflow:"hidden",float:"right"}),this.css(I,{position:"absolute"}),this.css([S,F],{width:"100px",height:"6px",overflow:"hidden",borderRadius:"5px",cursor:"pointer"}),this.css(S,{position:"absolute",top:"16px"}),this.css(S,"backgroundColor","#666666"),this.css(F,"backgroundColor",a),this.buttonWidth.volume=100,this.css(E,{width:"12px",height:"12px",overflow:"hidden",borderRadius:"50%",position:"absolute",backgroundColor:n,top:"13px",left:"0px",cursor:"pointer"}),this.css(L,{width:"6px",height:"6px",overflow:"hidden",borderRadius:"50%",position:"absolute",backgroundColor:a,left:"3px",top:"3px"}),this.css(V,{lineHeight:s+"px",color:"#FFFFFF",float:"right",fontSize:"14px",textAlign:"center",overflow:"hidden",display:"none",cursor:"pointer"}),this.css(P,{lineHeight:s-8+"px",color:"#FFFFFF",overflow:"hidden",position:"absolute",bottom:"4px",backgroundColor:"#000000",textAlign:"center",zIndex:"95",cursor:"pointer",display:"none"}),this.css(j,{lineHeight:s+"px",color:"#FFFFFF",float:"right",fontSize:"14px",textAlign:"center",overflow:"hidden",display:"none",cursor:"pointer"}),this.css(M,{lineHeight:s-8+"px",color:"#FFFFFF",overflow:"hidden",position:"absolute",bottom:"4px",backgroundColor:"#000000",textAlign:"center",zIndex:"95",cursor:"pointer",display:"none"}),this.css([k,B],{width:i+"px",height:s+"px",float:"right",overflow:"hidden",cursor:"pointer"}),this.css(B,"display","none");var ne=this.getByElement(g+"-canvas").getContext("2d"),ae=function(){e.canvasFill(ne,[[12,10],[29,19],[12,28]])};ne.fillStyle=n,ae();var re=function(e){ne.clearRect(0,0,i,s),ne.fillStyle=a,ae()},oe=function(e){ne.clearRect(0,0,i,s),ne.fillStyle=n,ae()};this.addListenerInside("mouseover",re,this.getByElement(g+"-canvas")),this.addListenerInside("mouseout",oe,this.getByElement(g+"-canvas"));var le=this.getByElement(y+"-canvas").getContext("2d"),he=function(){e.canvasFillRect(le,[[10,10,5,18],[22,10,5,18]])};le.fillStyle=n,he();var de=function(e){le.clearRect(0,0,i,s),le.fillStyle=a,he()},ce=function(e){le.clearRect(0,0,i,s),le.fillStyle=n,he()};this.addListenerInside("mouseover",de,this.getByElement(y+"-canvas")),this.addListenerInside("mouseout",ce,this.getByElement(y+"-canvas"));var ue=this.getByElement(b+"-canvas").getContext("2d"),pe=function(){e.canvasFill(ue,[[16,19],[30,10],[30,28]]),e.canvasFillRect(ue,[[8,10,5,18]])};ue.fillStyle=n,pe();var fe=function(e){ue.clearRect(0,0,i,s),ue.fillStyle=a,pe()},me=function(e){ue.clearRect(0,0,i,s),ue.fillStyle=n,pe()};this.addListenerInside("mouseover",fe,this.getByElement(b+"-canvas")),this.addListenerInside("mouseout",me,this.getByElement(b+"-canvas"));var ve=this.getByElement(C+"-canvas").getContext("2d"),ge=function(){e.canvasFill(ve,[[8,10],[22,19],[8,28]]),e.canvasFillRect(ve,[[25,10,5,18]])};ve.fillStyle=n,ge();var ye=function(e){ve.clearRect(0,0,i,s),ve.fillStyle=a,ge()},be=function(e){ve.clearRect(0,0,i,s),ve.fillStyle=n,ge()};this.addListenerInside("mouseover",ye,this.getByElement(C+"-canvas")),this.addListenerInside("mouseout",be,this.getByElement(C+"-canvas"));var Ce=this.getByElement(k+"-canvas").getContext("2d"),ke=function(){e.canvasFillRect(Ce,[[19,10,9,3],[25,13,3,6],[10,19,3,9],[13,25,6,3]])};Ce.fillStyle=n,ke();var Be=function(){Ce.clearRect(0,0,i,s),Ce.fillStyle=a,ke()},we=function(){Ce.clearRect(0,0,i,s),Ce.fillStyle=n,ke()};this.addListenerInside("mouseover",Be,this.getByElement(k+"-canvas")),this.addListenerInside("mouseout",we,this.getByElement(k+"-canvas"));var xe=this.getByElement(B+"-canvas").getContext("2d"),Te=function(){e.canvasFillRect(xe,[[20,9,3,9],[23,15,6,3],[9,20,9,3],[15,23,3,6]])};xe.fillStyle=n,Te();var Ie=function(){xe.clearRect(0,0,i,s),xe.fillStyle=a,Te()},Se=function(){xe.clearRect(0,0,i,s),xe.fillStyle=n,Te()};this.addListenerInside("mouseover",Ie,this.getByElement(B+"-canvas")),this.addListenerInside("mouseout",Se,this.getByElement(B+"-canvas"));var Fe=this.getByElement(w+"-canvas").getContext("2d"),Ee=function(){e.canvasFill(Fe,[[10,15],[15,15],[21,10],[21,28],[15,23],[10,23]]),e.canvasFillRect(Fe,[[23,15,2,8],[27,10,2,18]])};Fe.fillStyle=n,Ee();var Le=function(){Fe.clearRect(0,0,i,s),Fe.fillStyle=a,Ee()},Ve=function(){Fe.clearRect(0,0,i,s),Fe.fillStyle=n,Ee()};this.addListenerInside("mouseover",Le,this.getByElement(w+"-canvas")),this.addListenerInside("mouseout",Ve,this.getByElement(w+"-canvas"));var Pe=this.getByElement(x+"-canvas").getContext("2d"),je=function(){e.canvasFill(Pe,[[10,15],[15,15],[21,10],[21,28],[15,23],[10,23]]),e.canvasFill(Pe,[[23,13],[24,13],[33,25],[32,25]]),e.canvasFill(Pe,[[32,13],[33,13],[24,25],[23,25]])};Pe.fillStyle=n,je();var Me=function(){Pe.clearRect(0,0,i,s),Pe.fillStyle=a,je()},Ae=function(){Pe.clearRect(0,0,i,s),Pe.fillStyle=n,je()};this.addListenerInside("mouseover",Me,this.getByElement(x+"-canvas")),this.addListenerInside("mouseout",Ae,this.getByElement(x+"-canvas"));var De=this.getByElement(W+"-canvas").getContext("2d"),He=function(){De.save();var e=De.createLinearGradient(0,0,60,60);e.addColorStop(0,n);var t=De.createLinearGradient(0,0,80,60);t.addColorStop(1,a);var i=De.createLinearGradient(0,0,80,60);i.addColorStop(1,"#FF9900");var s=De.createLinearGradient(0,0,80,60);s.addColorStop(1,"#CC3300"),De.strokeStyle=e,De.lineWidth=8,De.beginPath(),De.arc(30,30,25,0,.4*Math.PI,!1),De.stroke(),De.closePath(),De.beginPath(),De.strokeStyle=t,De.arc(30,30,25,.5*Math.PI,.9*Math.PI,!1),De.stroke(),De.beginPath(),De.strokeStyle=i,
De.arc(30,30,25,Math.PI,1.4*Math.PI,!1),De.stroke(),De.beginPath(),De.strokeStyle=s,De.arc(30,30,25,1.5*Math.PI,1.9*Math.PI,!1),De.stroke(),De.closePath(),De.restore()};De.fillStyle=n,He();var Re=this.getByElement(O+"-canvas").getContext("2d"),Oe=function(){e.canvasFill(Re,[[28,22],[59,38],[28,58]]),Re.save(),Re.lineWidth=5,Re.beginPath(),Re.arc(40,40,35,0,2*Math.PI,!1),Re.stroke(),Re.closePath(),Re.restore()};Re.fillStyle=n,Re.strokeStyle=n,Oe();var We=function(){Re.clearRect(0,0,80,80),Re.fillStyle=a,Re.strokeStyle=a,Oe()},Ue=function(){Re.clearRect(0,0,80,80),Re.fillStyle=n,Re.strokeStyle=n,Oe()};this.addListenerInside("mouseover",We,this.getByElement(O+"-canvas")),this.addListenerInside("mouseout",Ue,this.getByElement(O+"-canvas"));var Je=function(){e.css(E,"backgroundColor",a),e.css(L,"backgroundColor",n)},ze=function(){e.css(E,"backgroundColor",n),e.css(L,"backgroundColor",a)};this.addListenerInside("mouseover",Je,this.getByElement(E)),this.addListenerInside("mouseout",ze,this.getByElement(E));var Ne=function(){e.css(f,"backgroundColor",a),e.css(m,"backgroundColor",n)},qe=function(){e.css(f,"backgroundColor",n),e.css(m,"backgroundColor",a)};this.addListenerInside("mouseover",Ne,this.getByElement(f)),this.addListenerInside("mouseout",qe,this.getByElement(f)),this.addButtonEvent(),this.newMenu(),this.controlBarHide(),this.keypress(),this.changeVolume(this.vars.volume),this.showFrontNext(),window.setTimeout(function(){e.elementCoordinate()},100),this.checkBarWidth();var Xe=function(){e.elementCoordinate(),e.timeUpdateHandler(),e.changeLoad(),e.checkBarWidth(),e.changeElementCoor(),e.changePrompt()};this.addListenerInside("resize",Xe,window)},newCanvas:function(e,t,i){return'<canvas class="'+e+'-canvas" width="'+t+'" height="'+i+'"></canvas>'},addButtonEvent:function(){var thisTemp=this,playClick=function(e){thisTemp.videoPlay(),thisTemp.sendJS("clickEvent","actionScript->videoPlay")};this.addListenerInside("click",playClick,this.CB.play),this.addListenerInside("click",playClick,this.CB.pauseCenter);var pauseClick=function(e){thisTemp.videoPause(),thisTemp.sendJS("clickEvent","actionScript->videoPause")};this.addListenerInside("click",pauseClick,this.CB.pause);var frontClick=function(event){thisTemp.vars.front&&(eval(thisTemp.vars.front+"()"),thisTemp.sendJS("clickEvent","actionScript->"+thisTemp.vars.front))};this.addListenerInside("click",frontClick,this.CB.front);var nextClick=function(event){thisTemp.vars.next&&(eval(thisTemp.vars.next+"()"),thisTemp.sendJS("clickEvent","actionScript->"+thisTemp.vars.next))};this.addListenerInside("click",nextClick,this.CB.next);var muteClick=function(e){thisTemp.videoMute(),thisTemp.sendJS("clickEvent","actionScript->videoMute")};this.addListenerInside("click",muteClick,this.CB.mute);var escMuteClick=function(e){thisTemp.videoEscMute(),thisTemp.sendJS("clickEvent","actionScript->videoEscMute")};this.addListenerInside("click",escMuteClick,this.CB.escMute);var fullClick=function(e){thisTemp.fullScreen(),thisTemp.sendJS("clickEvent","actionScript->fullScreen")};this.addListenerInside("click",fullClick,this.CB.full);var escFullClick=function(e){thisTemp.quitFullScreen(),thisTemp.sendJS("clickEvent","actionScript->quitFullScreen")};this.addListenerInside("click",escFullClick,this.CB.escFull);var promptHide=function(e){thisTemp.promptShow(!1)},playOver=function(e){thisTemp.promptShow(thisTemp.CB.play)};this.addListenerInside("mouseover",playOver,this.CB.play),this.addListenerInside("mouseout",promptHide,this.CB.play);var pauseOver=function(e){thisTemp.promptShow(thisTemp.CB.pause)};this.addListenerInside("mouseover",pauseOver,this.CB.pause),this.addListenerInside("mouseout",promptHide,this.CB.pause);var frontOver=function(e){thisTemp.promptShow(thisTemp.CB.front)};this.addListenerInside("mouseover",frontOver,this.CB.front),this.addListenerInside("mouseout",promptHide,this.CB.front);var nextOver=function(e){thisTemp.promptShow(thisTemp.CB.next)};this.addListenerInside("mouseover",nextOver,this.CB.next),this.addListenerInside("mouseout",promptHide,this.CB.next);var muteOver=function(e){thisTemp.promptShow(thisTemp.CB.mute)};this.addListenerInside("mouseover",muteOver,this.CB.mute),this.addListenerInside("mouseout",promptHide,this.CB.mute);var escMuteOver=function(e){thisTemp.promptShow(thisTemp.CB.escMute)};this.addListenerInside("mouseover",escMuteOver,this.CB.escMute),this.addListenerInside("mouseout",promptHide,this.CB.escMute);var fullOver=function(e){thisTemp.promptShow(thisTemp.CB.full)};this.addListenerInside("mouseover",fullOver,this.CB.full),this.addListenerInside("mouseout",promptHide,this.CB.full);var escFullOver=function(e){thisTemp.promptShow(thisTemp.CB.escFull)};this.addListenerInside("mouseover",escFullOver,this.CB.escFull),this.addListenerInside("mouseout",promptHide,this.CB.escFull);var definitionOver=function(e){thisTemp.promptShow(thisTemp.CB.definition)};this.addListenerInside("mouseover",definitionOver,this.CB.definition),this.addListenerInside("mouseout",promptHide,this.CB.definition);var playbackrateOver=function(e){thisTemp.promptShow(thisTemp.CB.playbackrate)};this.addListenerInside("mouseover",playbackrateOver,this.CB.playbackrate),this.addListenerInside("mouseout",promptHide,this.CB.playbackrate);var volumePrompt=function(e){var t=thisTemp.getCoor(thisTemp.CB.volumeBO),i={title:thisTemp.language.volume+e+"%",x:t.x+.5*thisTemp.CB.volumeBO.offsetWidth,y:t.y};thisTemp.promptShow(!1,i)},volumeObj={slider:this.CB.volumeBO,follow:this.CB.volumeUp,refer:this.CB.volumeBg,grossValue:"volume",pd:!0,startFun:function(e){},monitorFun:function(e){thisTemp.changeVolume(.01*e,!1,!1),volumePrompt(e)},endFun:function(e){},overFun:function(e){volumePrompt(e)}};this.slider(volumeObj);var volumeClickObj={refer:this.CB.volumeBg,grossValue:"volume",fun:function(e){thisTemp.changeVolume(.01*e,!0,!0)}};this.progressClick(volumeClickObj),this.timeButtonMouseDown();var volumeBgMove=function(e){var t=thisTemp.getCoor(thisTemp.CB.volumeBg),i=thisTemp.client(e).x,s=parseInt(100*(i-t.x)/thisTemp.CB.volumeBg.offsetWidth),n={title:thisTemp.language.volume+s+"%",x:i,y:t.y};thisTemp.promptShow(!1,n)};this.addListenerInside("mousemove",volumeBgMove,this.CB.volumeBg),this.addListenerInside("mouseout",promptHide,this.CB.volumeBg),this.addListenerInside("mouseout",promptHide,this.CB.volumeBO),this.addDefListener(),this.addPlaybackrate()},videoClick:function(){var e=this,t=function(){null!=e.timerClick&&(e.timerClick.runing&&e.timerClick.stop(),e.timerClick=null)},i=function(){t(),e.isClick=!1,e.playOrPause()};t(),this.isClick?(this.isClick=!1,e.config.videoDbClick&&(this.full?e.quitFullScreen():e.fullScreen())):(this.isClick=!0,this.timerClick=new this.timer(300,i,1))},timeButtonMouseDown:function(){var e=this,t=function(t){isNaN(t)&&(t=0);var i=e.getCoor(e.CB.timeButton),s={title:e.formatTime(t),x:i.x-e.pdCoor.x+.5*e.CB.timeButton.offsetWidth,y:i.y-e.pdCoor.y};e.promptShow(!1,s)},i={slider:this.CB.timeButton,follow:this.CB.timeProgress,refer:this.CB.timeBoBg,grossValue:"time",pd:!1,startFun:function(t){e.isTimeButtonMove=!1},monitorFun:function(e){},endFun:function(t){e.V&&e.V.duration>0&&(e.needSeek=0,e.videoSeek(parseInt(t)))},overFun:function(e){t(e)}},s={refer:this.CB.timeBoBg,grossValue:"time",fun:function(t){e.V&&e.V.duration>0&&(e.needSeek=0,e.videoSeek(parseInt(t)))}},n=function(t){var i=e.getCoor(e.CB.timeBoBg),s=e.client(t).x,n=parseInt((s-i.x)*e.V.duration/e.CB.timeBoBg.offsetWidth),a={title:e.formatTime(n),x:s,y:i.y};e.promptShow(!1,a);var r=!1;e.isUndefined(e.CB.definitionP)||"block"!=e.css(e.CB.definitionP,"display")&&(r=!0),null!=e.vars.preview&&r&&(a.time=n,e.preview(a))},a=function(t){e.promptShow(!1),null!=e.previewDiv&&e.css([e.previewDiv,e.previewTop],"display","none")};this.vars.live?(this.isTimeButtonDown=!1,i.removeListenerInside=!0,s.removeListenerInside=!0):(this.isTimeButtonDown=!0,this.addListenerInside("mousemove",n,this.CB.timeBoBg),this.addListenerInside("mouseout",a,this.CB.timeBoBg)),this.slider(i),this.progressClick(s)},progressClick:function(e){var t=this,i=function(i){var s=t.client(i).x-t.getCoor(e.refer).x,n=e.refer.offsetWidth,a=0;"volume"==e.grossValue?a=100:t.V&&(a=t.V.duration);var r=parseInt(s*a/n);if(e.fun){if("time"===e.grossValue){var o=t.getCoor(t.CB.timeButton);if(sliderLeft=o.x,!t.checkSlideLeft(s,sliderLeft,n))return;var l=.5*t.CB.timeButton.offsetWidth;t.css(t.CB.timeButton,"left",s-l+"px"),t.css(t.CB.timeProgress,"width",s+"px")}e.fun(r)}};this.isUndefined(e.removeListenerInside)?this.addListenerInside("click",i,e.refer):this.removeListenerInside("click",i,e.refer)},slider:function(e){var t=this,i=0,s=0,n=0,a=0,r=function(){var i=parseInt(t.css(e.slider,"left")),s=e.refer.offsetWidth-e.slider.offsetWidth,n=0;return(t.isUndefined(i)||isNaN(i))&&(i=0),"volume"==e.grossValue?n=100:t.V&&(n=t.V.duration),parseInt(i*n/s)},o=function(o){t.addListenerInside("mousemove",l,document),t.addListenerInside("mouseup",h,document);var d=t.getCoor(e.refer),c=t.getCoor(e.slider);i=t.client(o).x,a=d.x,n=c.x,s=i-n,e.startFun&&e.startFun(r())},l=function(o){i=t.client(o).x;var l=i-s-a;if(l<0&&(l=0),l>e.refer.offsetWidth-e.slider.offsetWidth&&(l=e.refer.offsetWidth-e.slider.offsetWidth),e.slider!==t.CB.timeButton||t.checkSlideLeft(l,n,e.refer.offsetWidth)){t.css(e.slider,"left",l+"px"),t.css(e.follow,"width",l+.5*e.slider.offsetWidth+"px");var h=r();e.monitorFun&&e.monitorFun(h)}},h=function(i){t.removeListenerInside("mousemove",l,document),t.removeListenerInside("mouseup",h,document),e.endFun&&e.endFun(r())},d=function(t){e.overFun&&e.overFun(r())};this.isUndefined(e.removeListenerInside)?(this.addListenerInside("mousedown",o,e.slider),this.addListenerInside("mouseover",d,e.slider)):(this.removeListenerInside("mousedown",o,e.slider),this.removeListenerInside("mouseover",d,e.slider))},checkSlideLeft:function(e,t,i){var s=this.ckplayerConfig.config.timeScheduleAdjust;switch(s){case 0:return!1;case 2:if(e<t)return!1;break;case 3:if(e>t)return!1;break;case 4:if(this.timeSliderLeftTemp||(this.timeSliderLeftTemp=t/i),e<this.timeSliderLeftTemp*i)return!1;break;case 5:if(this.timeSliderLeftTemp){var n=t/i;n>this.timeSliderLeftTemp&&(this.timeSliderLeftTemp=n)}else this.timeSliderLeftTemp=t/i;if(e>this.timeSliderLeftTemp*i)return!1;break;default:return!0}return!0},loadingStart:function(e){var t=this;this.isUndefined(e)&&(e=!0),this.showFace&&this.css(t.CB.loading,"display","none"),null!=this.timerLoading&&(this.timerLoading.runing&&this.timerLoading.stop(),this.timerLoading=null);var i=0,s=function(){var e="0";try{e=t.css(t.CB.loadingCanvas,"transform")||t.css(t.CB.loadingCanvas,"-ms-transform")||t.css(t.CB.loadingCanvas,"-moz-transform")||t.css(t.CB.loadingCanvas,"-webkit-transform")||t.css(t.CB.loadingCanvas,"-o-transform")||"0"}catch(e){}e=parseInt(e.replace("rotate(","").replace("deg);","")),e+=4,e>360&&(e=0),t.showFace&&t.css(t.CB.loadingCanvas,{transform:"rotate("+e+"deg)",msTransform:"rotate("+e+"deg)",mozTransform:"rotate("+e+"deg)",webkitTransform:"rotate("+e+"deg)",oTransform:"rotate("+e+"deg)"}),i++,i>=99&&(i=99),t.sendJS("buffer",i)};e?(this.timerLoading=new this.timer(10,s),this.showFace&&this.css(t.CB.loading,"display","block")):t.sendJS("buffer",100)},showFrontNext:function(){this.showFace&&(this.vars.front?this.css([this.CB.front,this.CB.frontLine],"display","block"):this.css([this.CB.front,this.CB.frontLine],"display","none"),this.vars.next?this.css([this.CB.next,this.CB.nextLine],"display","block"):this.css([this.CB.next,this.CB.nextLine],"display","none"))},promptShow:function(e,t){if(this.showFace){var i={};if(e||t){if(this.isUndefined(t)){var s=this.getCoor(e);i={title:this.getDataset(e,"title"),x:s.x+.5*e.offsetWidth,y:s.y}}else i=t;this.CB.prompt.innerHTML=i.title,this.css(this.CB.prompt,"display","block");var n=10*this.getStringLen(i.title);this.css(this.CB.promptBg,"width",n+"px"),this.css(this.CB.prompt,"width",n+"px"),n+=10;var a=i.x-.5*n,r=this.PD.offsetHeight-i.y+8;a<0&&(a=0),a>this.PD.offsetWidth-n&&(a=this.PD.offsetWidth-n),this.css([this.CB.promptBg,this.CB.prompt],{display:"block",left:a+"px",bottom:r+"px"})}else this.css([this.CB.promptBg,this.CB.prompt],{display:"none"})}},timerErrorFun:function(){var e=this;this.errorSend=!1;var t=function(t){null!=e.timerError&&(e.timerError.runing&&e.timerError.stop(),e.timerError=null)},i=function(i){t(),e.error=!0,e.errorUrl=e.getVideoUrl(),e.errorSend||(e.errorSend=!0,e.sendJS("error")),e.showFace&&(e.css(e.CB.errorText,"display","block"),e.css(e.CB.pauseCenter,"display","none"),e.css(e.CB.loading,"display","none")),e.V.removeAttribute("poster"),e.resetPlayer()},s=function(t){window.setTimeout(function(){isNaN(e.V.duration)&&i(t)},500)};this.errorAdd||(this.errorAdd=!0,this.addListenerInside("error",s,this.V)),t();var n=function(){e.V&&3==parseInt(e.V.networkState)&&i()};this.timerError=new this.timer(this.config.errorTime,n)},judgeFullScreen:function(){var e=this;null!=this.timerFull&&(this.timerFull.runing&&this.timerFull.stop(),this.timerFull=null);var t=function(){e.isFullScreen()};this.timerFull=new this.timer(20,t)},isFullScreen:function(){if(this.showFace){var e=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement;e&&!this.full&&(this.full=!0,this.sendJS("full",!0),this.elementCoordinate(),this.css(this.CB.full,"display","none"),this.css(this.CB.escFull,"display","block"),0==this.vars.live&&this.timeUpdateHandler(),this.PD.appendChild(this.CB.menu)),!e&&this.full&&(this.full=!1,this.sendJS("full",!1),this.elementCoordinate(),this.css(this.CB.full,"display","block"),this.css(this.CB.escFull,"display","none"),null!=this.timerFull&&(this.timerFull.runing&&this.timerFull.stop(),this.timerFull=null),0==this.vars.live&&this.timeUpdateHandler(),this.body.appendChild(this.CB.menu))}},newMenu:function(){var e=this,t=0;this.css(this.CB.menu,{backgroundColor:"#FFFFFF",padding:"5px",position:"absolute",left:"10px",top:"20px",display:"none",zIndex:"999",color:"#A1A9BE",boxShadow:"2px 2px 3px #AAAAAA"});var i=this.contextMenu,s=this.ckplayerConfig.menu;if(s.name&&(s.link?i[0]=[s.name,"link",s.link]:i[0]=[s.name,"default"]),s.version&&(i[1]=[s.version,"default","line"]),s.more&&"object"==typeof s.more&&s.more.length>0){var n=s.more;for(t=0;t<n.length;t++){var a=n[t],r=[];if(a.name&&r.push(a.name),a.clickEvent&&"none"!=a.clickEvent){var o=this.clickEvent(a.clickEvent);r.push(o.type),o.fun&&r.push(o.fun),o.link&&r.push(o.link),o.target&&r.push(' target="'+o.target+'"')}a.separatorBefore&&r.push("line"),i.push(r)}}var l="";for(t=0;t<i.length;t++){var h=i[t];switch(h[1]){case"default":l+="<p>"+h[0]+"</p>";break;case"link":l+='<p><a href="'+h[2]+'"'+h[3]+">"+h[0]+"</a></p>";break;case"javaScript":l+='<p><a href="javascript:'+h[2]+'">'+h[0]+"</a></p>";break;case"actionScript":l+='<p><a href="javascript:'+this.vars.variable+h[2].replace("thisTemp","")+'">'+h[0]+"</a></p>"}}this.CB.menu.innerHTML=l;var d=this.CB.menu.childNodes;for(t=0;t<d.length;t++){this.css(d[t],{height:"30px",lineHeight:"30px",margin:"0px",fontFamily:this.fontFamily,fontSize:"12px",paddingLeft:"10px",paddingRight:"30px"}),"line"==i[t][i[t].length-1]&&this.css(d[t],"borderBottom","1px solid #e9e9e9");for(var c=d[t].childNodes,u=0;u<c.length;u++)"a"==c[u].localName&&this.css(c[u],{color:"#000000",textDecoration:"none"})}this.PD.oncontextmenu=function(t){var i=t||window.event,s=e.client(t);if(2==i.button){i.returnvalue=!1;var n=s.x+e.pdCoor.x-2,a=s.y+e.pdCoor.y-2;return e.css(e.CB.menu,{display:"block",left:n+"px",top:a+"px"}),!1}return!0};var p=function(){f&&(window.clearTimeout(f),f=null)},f=null,m=function(t){p(),f=window.setTimeout(function(t){e.css(e.CB.menu,"display","none")},500)};this.addListenerInside("mouseout",m,e.CB.menu);var v=function(e){p()};this.addListenerInside("mouseover",v,e.CB.menu)},controlBarHide:function(e){var t=this,i={x:0,y:0},s={x:0,y:0},n=!0,a=!1,r=function(e){if(e&&!n&&t.controlBarIsShow)n=!0,t.sendJS("controlBar",!0),t.css(t.CB.controlBarBg,"display","block"),t.css(t.CB.controlBar,"display","block"),t.css(t.CB.timeProgressBg,"display","block"),t.css(t.CB.timeBoBg,"display","block"),t.changeVolume(t.volume),t.changeLoad(),t.timerBuffer||t.bufferEdHandler();else if(n){n=!1;var i=t.getMetaDate().paused;a&&(i=!1),i||(t.sendJS("controlBar",!1),t.css(t.CB.controlBarBg,"display","none"),t.css(t.CB.controlBar,"display","none"),t.css(t.CB.timeProgressBg,"display","none"),t.css(t.CB.timeBoBg,"display","none"),t.promptShow(!1))}},o=function(e){if(i.x==s.x&&i.y==s.y){var a=parseInt(t.CD.offsetHeight);(i.y<a-50||i.y>a-2)&&n&&r(!1)}else n||r(!0);s={x:i.x,y:i.y}};this.timerCBar=new this.timer(2e3,o);var l=function(e){var s=t.client(e);i.x=s.x,i.y=s.y,n||r(!0)};this.addListenerInside("mousemove",l,t.CD),this.addListenerInside("ended",l),this.addListenerInside("resize",l,window),!0===e&&(n=!0,a=!0,r(!1)),!1===e&&(n=!1,a=!0,r(!0))},keypress:function(){var e=this,t=function(t){var i=t.keyCode||t.which;switch(i){case 32:e.playOrPause();break;case 37:e.fastBack();break;case 39:e.fastNext();break;case 38:now=e.volume+e.ckplayerConfig.config.volumeJump,e.changeVolume(now>1?1:now);break;case 40:now=e.volume-e.ckplayerConfig.config.volumeJump,e.changeVolume(now<0?0:now)}};this.addListenerInside("keydown",t,window||document)},playbackRate:function(){if(this.showFace){var e=this,t=this.playbackRateArr,i="",s="",n=0;if(s||(s=t[this.playbackRateDefault][1]),t.length>1){var a=0;for(n=0;n<t.length;n++){i="<p>"+t[n][1]+"</p>"+i;var r=this.getStringLen(t[n][1]);r>a&&(a=r)}i&&(i+="<p>"+s+"</p>"),this.CB.playbackrate.innerHTML=s,this.CB.playbackrateP.innerHTML=i,this.css([this.CB.playbackrate,this.CB.playbackrateLine],"display","block");var o=this.CB.playbackrateP.childNodes;for(n=0;n<o.length;n++){var l="#FFFFFF";o[n].innerHTML==s&&(l="#0782F5"),this.css(o[n],{color:l,margin:"0px",padding:"0px",fontSize:"14px"}),n<o.length-1&&this.css(o[n],"borderBottom","1px solid #282828");var h=function(t){s!=this.innerHTML&&(e.css(e.CB.playbackrateP,"display","none"),e.newPlaybackrate(this.innerHTML),e.sendJS("clickEvent","actionScript->newPlaybackrate"))};this.addListenerInside("click",h,o[n])}var d=10*a+20;this.css(this.CB.playbackrateP,{width:d+"px"}),this.css(this.CB.playbackrate,{width:d+"px"}),this.buttonWidth.playbackrate=this.CB.playbackrate.offsetWidth}else this.CB.playbackrate.innerHTML="",this.CB.playbackrateP.innerHTML="",this.css([this.CB.playbackrate,this.CB.playbackrateLine],"display","none")}},addPlaybackrate:function(){var e=this,t=null,i=function(t){e.css(e.CB.playbackrateP,{left:e.getCoor(e.CB.playbackrate).x+"px",display:"block"})};this.addListenerInside("click",i,this.CB.playbackrate);var s=function(i){t&&(window.clearTimeout(t),t=null),t=window.setTimeout(function(t){e.css(e.CB.playbackrateP,"display","none")},500)};this.addListenerInside("mouseout",s,e.CB.playbackrateP);var n=function(e){t&&(window.clearTimeout(t),t=null)};this.addListenerInside("mouseover",n,e.CB.playbackrateP)},newPlaybackrate:function(e){var t=this.playbackRateArr,i=0;for(i=0;i<t.length;i++){var s=t[i];s[1]==e&&(this.playbackRateDefault=i,this.V.playbackRate=s[0],this.showFace&&(this.CB.playbackrate.innerHTML=s[1],this.playbackRate()),this.sendJS("playbackRate",s))}},definition:function(){if(this.showFace){var e=this,t=this.VA,i=[],s="",n="",a=0;for(a=0;a<t.length;a++){var r=t[a][2];-1==i.indexOf(r)&&i.push(r),this.V&&t[a][0]==this.V.currentSrc&&(n=r)}if(n||(n=i[0]),i.length>1){var o=0;for(a=i.length-1;a>-1;a--){s="<p>"+i[a]+"</p>"+s;var l=this.getStringLen(i[a]);l>o&&(o=l)}s&&(s+="<p>"+n+"</p>"),this.CB.definition.innerHTML=n,this.CB.definitionP.innerHTML=s,this.css([this.CB.definition,this.CB.definitionLine],"display","block");var h=this.CB.definitionP.childNodes;for(a=0;a<h.length;a++){var d="#FFFFFF";h[a].innerHTML==n&&(d="#0782F5"),this.css(h[a],{color:d,margin:"0px",padding:"0px",fontSize:"14px"}),a<h.length-1&&this.css(h[a],"borderBottom","1px solid #282828");var c=function(){n!=this.innerHTML&&(e.css(e.CB.definitionP,"display","none"),e.newDefinition(this.innerHTML))};this.addListenerInside("click",c,h[a])}var u=10*o+20;this.css(this.CB.definitionP,{width:u+"px"}),this.css(this.CB.definition,{width:u+"px"}),this.buttonWidth.definition=this.CB.definition.offsetWidth}else this.CB.definition.innerHTML="",this.CB.definitionP.innerHTML="",this.css([this.CB.definition,this.CB.definitionLine],"display","none")}},addDefListener:function(){var e=this,t=null,i=function(t){e.css(e.CB.definitionP,{left:e.getCoor(e.CB.definition).x+"px",display:"block"})};this.addListenerInside("click",i,this.CB.definition);var s=function(i){t&&(window.clearTimeout(t),t=null),t=window.setTimeout(function(t){e.css(e.CB.definitionP,"display","none")},500)};this.addListenerInside("mouseout",s,e.CB.definitionP);var n=function(e){t&&(window.clearTimeout(t),t=null)};this.addListenerInside("mouseover",n,e.CB.definitionP)},newDefinition:function(e){var t=this.VA,i=[],s=0;for(s=0;s<t.length;s++){var n=t[s];n[2]==e&&(i.push(n),this.sendJS("definitionChange",s+""))}if(!(i.length<1)){if(null!=this.V&&0==this.needSeek&&(this.needSeek=this.V.currentTime),".m3u8"!=this.getFileExt(i[0][0])&&(this.isM3u8=!1),this.isM3u8)this.embedHls(t[0][0],this.vars.autoplay);else if(1==i.length)this.V.innerHTML="",this.V.src=i[0][0];else{var a="";for(i=this.arrSort(i),s=0;s<i.length;s++){var r="",o=i[s];o[1]&&(r=' type="'+o[1]+'"'),a+='<source src="'+o[0]+'"'+r+">"}this.V.removeAttribute("src"),this.V.innerHTML=a}this.V.autoplay="autoplay",this.V.load(),this.timerErrorFun()}},embedHls:function(e,t){var i=this;if(Hls.isSupported()){var s=new Hls;s.loadSource(e),s.attachMedia(this.V),s.on(Hls.Events.MANIFEST_PARSED,function(){i.playerLoad(),t&&i.videoPlay()})}},prompt:function(){if(this.showFace){var e=this,t=this.vars.promptSpot;if(!(null==t||this.promptArr.length>0)){var i=function(t){if(null==e.promptElement){var i="prompte"+e.randomString(5),s=document.createElement("div");s.className=i,e.PD.appendChild(s),e.promptElement=e.getByElement(i),e.css(e.promptElement,{overflowX:"hidden",lineHeight:"22px",fontSize:"14px",color:"#FFFFFF",position:"absolute",display:"block",zIndex:"90"})}var n=e.getPromptTest(),a=n.pW,r=n.pT,o=parseInt(e.css(this,"left"))-parseInt(.5*a);n.pL>10&&(o=n.pL),o<0&&(o=0),e.css(e.promptElement,{width:a+"px",left:-a-10+"px",display:"block"}),e.promptElement.innerHTML=e.getDataset(this,"words"),e.css(e.promptElement,{left:o+"px",top:r-e.promptElement.offsetHeight-10+"px"})},s=function(t){null!=e.promptElement&&e.css(e.promptElement,{display:"none"})},n=0;for(n=0;n<t.length;n++){var a=t[n],r=a.words,o=a.time,l="prompt"+this.randomString(5),h=document.createElement("div");h.className=l,this.CB.timeBoBg.appendChild(h);var d=this.getByElement(l);d.setAttribute("data-time",o),d.setAttribute("data-words",r),this.css(d,{width:"6px",height:"6px",backgroundColor:"#FFFFFF",position:"absolute",top:"4px",left:"-100px",display:"none",zIndex:"1",borderRadius:"6px"}),this.addListenerInside("mouseover",i,d),this.addListenerInside("mouseout",s,d),this.promptArr.push(d)}this.changePrompt()}}},getPromptTest:function(){var e=this.previewWidth,t=this.getCoor(this.CB.timeButton).y,i=0;return null!=this.previewTop?(t-=parseInt(this.css(this.previewTop,"height")),i=parseInt(this.css(this.previewTop,"left"))):t-=35,i+=2,i<0&&(i=0),i>this.PD.offsetWidth-e&&(i=this.PD.offsetWidth-e),{pW:e,pT:t,pL:i}},deletePrompt:function(){var e=this.promptArr;if(e.length>0)for(var t=0;t<e.length;t++)e[t]&&this.deleteChild(e[t]);this.promptArr=[]},changePrompt:function(){if(0!=this.promptArr.length)for(var e=this.promptArr,t=this.getMetaDate().duration,i=this.CB.timeBoBg.offsetWidth,s=0;s<e.length;s++){var n=parseInt(this.getDataset(e[s],"time")),a=parseInt(n*i/t)-parseInt(.5*e[s].offsetWidth);a<0&&(a=0),a>i-parseInt(.5*e[s].offsetWidth)&&(a=i-parseInt(.5*e[s].offsetWidth)),this.css(e[s],{left:a+"px",display:"block"})}},preview:function(e){var t=this,i={file:null,scale:0};if(i=this.standardization(i,this.vars.preview),!(null==i.file||i.scale<=0)){var s=i.file;if(0!=this.previewStart){if(2==this.previewStart){var n=!0,a=parseInt(e.time/this.vars.preview.scale),r=parseInt(t.getMetaDate().duration/this.vars.preview.scale);"none"==t.css(t.previewDiv,"display")&&(n=!1),t.css(t.previewDiv,"display","block");var o=.01*t.previewDiv.offsetWidth/s.length,l=o*a-e.x+parseInt(.5*o),h=e.y-t.previewDiv.offsetHeight;t.css(t.previewDiv,"top",h+2+"px");var d=e.x-parseInt(.5*o),c=0;d<0&&(d=0,c=e.x-d-.5*o),d>t.PD.offsetWidth-o&&(d=t.PD.offsetWidth-o,c=e.x-d-.5*o),l<0&&(l=0),l>r*o-t.PD.offsetWidth&&(l=r*o-t.PD.offsetWidth),t.css(t.previewTop,{left:d+"px",top:h+2+"px",display:"block"}),t.previewTop.offsetHeight>t.previewDiv.offsetHeight&&t.css(t.previewTop,{height:t.previewDiv.offsetHeight-(t.previewTop.offsetHeight-t.previewDiv.offsetHeight)+"px"}),null!=this.previewTween&&(this.animatePause(this.previewTween),this.previewTween=null);var u=parseInt(t.css(t.previewDiv,"left"));if(u==-(l+c))return;if(n){e={element:t.previewDiv,start:null,end:-(l+c),speed:.3};this.previewTween=this.animate(e)}else t.css(t.previewDiv,"left",-(l+c)+"px")}}else{if(this.previewStart=1,s.length>0)var p=0,f=0,m=0,v=t.randomString(10),g=0,y=function(i){s[i]=t.getNewUrl(s[i]);var n=0,a=new Image;a.src=s[i],a.className=v+i,a.onload=function(r){if(g++,null==t.previewDiv){f=a.width,m=a.height,t.previewWidth=parseInt(.1*f);var o=document.createElement("div");o.className=v,t.PD.appendChild(o),t.previewDiv=t.getByElement(v);var l=e.y-parseInt(.1*m)+2;t.css(t.previewDiv,{width:s.length*f*10+"px",height:parseInt(.1*m)+"px",backgroundColor:"#000000",position:"absolute",left:"0px",top:l+"px",display:"none",zIndex:"80"}),o.setAttribute("data-x","0"),o.setAttribute("data-y",l);var h=document.createElement("div");h.className=v+"d2",t.PD.appendChild(h),t.previewTop=t.getByElement(h.className),t.css(t.previewTop,{width:parseInt(.1*f)+"px",height:parseInt(.1*m)+"px",position:"absolute",border:"5px solid "+t.css(t.CB.timeProgress,"backgroundColor"),left:"0px",top:e.y-parseInt(.1*m)+2+"px",display:"none",zIndex:"81"});var d="";for(n=0;n<s.length;n++)d+=t.newCanvas(v+n,10*f,parseInt(.1*m));t.previewDiv.innerHTML=d}t.previewDiv.appendChild(a);var c=t.getByElement(a.className),u=t.getByElement(a.className+"-canvas"),p=u.getContext("2d"),b=0,C=0,k=0,B=parseInt(.1*m);for(n=0;n<100;n++)k=parseInt(n*f*.1),p.drawImage(c,b,C,parseInt(.1*f),B,k,0,parseInt(.1*f),B),b+=parseInt(.1*f),b>=f&&(b=0,C+=B),t.css(c,"display","none");g==s.length?t.previewStart=2:(i++,y(i))}};y(p)}}},deletePreview:function(){null!=this.previewDiv&&(this.deleteChild(this.previewDiv),this.previewDiv=null,this.previewStart=0)},changeVideo:function(){if(!this.html5Video)return this.getVarsObject(),void this.V.newVideo(this.vars);var e=this.VA,t=this.vars,i=0;if(!(e.length<1)){if(null!=this.V&&0==this.needSeek&&(this.needSeek=this.V.currentTime),t.poster?this.V.poster=t.poster:this.V.removeAttribute("poster"),t.loop?this.V.loop="loop":this.V.removeAttribute("loop"),t.seek>0?this.needSeek=t.seek:this.needSeek=0,".m3u8"!=this.getFileExt(e[0][0])&&(this.isM3u8=!1),this.isM3u8)this.embedHls(e[0][0],t.autoplay);else{if(1==e.length)this.V.innerHTML="",this.V.src=e[0][0];else{var s="";for(e=this.arrSort(e),i=0;i<e.length;i++){var n="",a=e[i];a[1]&&(n=' type="'+a[1]+'"'),s+='<source src="'+a[0]+'"'+n+">"}this.V.removeAttribute("src"),this.V.innerHTML=s}t.autoplay?this.V.autoplay="autoplay":this.V.removeAttribute("autoplay"),this.V.load()}this.isUndefined(t.volume)||this.changeVolume(t.volume),this.resetPlayer(),this.timerErrorFun(),this.vars.cktrack&&this.loadTrack()}},elementCoordinate:function(){this.pdCoor=this.getXY(this.PD),this.css(this.CB.pauseCenter,{left:parseInt(.5*(this.PD.offsetWidth-80))+"px",top:parseInt(.5*(this.PD.offsetHeight-80))+"px"}),this.css(this.CB.loading,{left:parseInt(.5*(this.PD.offsetWidth-60))+"px",top:parseInt(.5*(this.PD.offsetHeight-60))+"px"}),this.css(this.CB.errorText,{left:parseInt(.5*(this.PD.offsetWidth-120))+"px",top:parseInt(.5*(this.PD.offsetHeight-30))+"px"}),this.css(this.CB.logo,{left:parseInt(this.PD.offsetWidth-this.CB.logo.offsetWidth-20)+"px",top:"20px"}),this.checkBarWidth()},checkBarWidth:function(){if(this.showFace){var e=this.CB.controlBar.offsetWidth,t=[];t.push([[this.CB.full,this.CB.escFull,this.CB.fullLine],this.buttonWidth.full+2,"full"]),""!=this.vars.front&&t.push([[this.CB.front,this.CB.frontLine],this.buttonWidth.front+2]),""!=this.vars.next&&t.push([[this.CB.next,this.CB.nextLine],this.buttonWidth.next+2]),""!=this.CB.definition.innerHTML&&t.push([[this.CB.definition,this.CB.definitionLine],this.buttonWidth.definition+2]),t.push([[this.CB.volume],this.buttonWidth.volume]),t.push([[this.CB.mute,this.CB.escMute,this.CB.muteLine],this.buttonWidth.mute+2,"mute"]),t.push([[this.CB.timeText],this.buttonWidth.timeText]),t.push([[this.CB.play,this.CB.pause,this.CB.playLine],this.buttonWidth.play+2,"play"]);var i=0,s=0,n=!0;for(i=0;i<t.length;i++){var a=t[i][1];a>2?s+=a:n=!1}n&&(this.buttonLen=s,this.buttonArr=t),s=this.buttonLen,t=this.buttonArr;for(i=0;i<t.length;i++)if(s>e)s-=t[i][1],this.css(t[i][0],"display","none");else if(this.css(t[i][0],"display","block"),3==t[i].length){var r=t[i][2];switch(r){case"mute":0==this.volume?this.css(this.CB.mute,"display","none"):this.css(this.CB.escMute,"display","none");break;case"play":this.playShow(!this.V.paused);break;case"full":this.full?this.css(this.CB.full,"display","none"):this.css(this.CB.escFull,"display","none")}}}},initPlayPause:function(){this.showFace&&(this.vars.autoplay?(this.css([this.CB.play,this.CB.pauseCenter],"display","none"),this.css(this.CB.pause,"display","block")):(this.css(this.CB.play,"display","block"),"none"==this.css(this.CB.errorText,"display")&&this.css(this.CB.pauseCenter,"display","block"),this.css(this.CB.pause,"display","none")))},loadedHandler:function(){if(this.loaded=!0,""!=this.vars.loaded)try{eval(this.vars.loaded+"()")}catch(e){this.log(e)}},playingHandler:function(){this.playShow(!0),this.needSeek>0&&(this.videoSeek(this.needSeek),this.needSeek=0),this.animatePauseArray.length>0&&this.animateResume("pause"),"html5video"==this.playerType&&null!=this.V&&this.config.videoDrawImage&&this.sendVCanvas()},sendVCanvas:function(){if(null==this.timerVCanvas){this.css(this.V,"display","none"),this.css(this.MD,"display","block");var e=this,t=function(){e.MDCX.width!=e.PD.offsetWidth&&(e.MDC.width=e.PD.offsetWidth),e.MDCX.height!=e.PD.offsetHeight&&(e.MDC.height=e.PD.offsetHeight),e.MDCX.clearRect(0,0,e.MDCX.width,e.MDCX.height);var t=e.getProportionCoor(e.PD.offsetWidth,e.PD.offsetHeight,e.V.videoWidth,e.V.videoHeight);e.MDCX.drawImage(e.V,0,0,e.V.videoWidth,e.V.videoHeight,t.x,t.y,t.width,t.height)};this.timerVCanvas=new this.timer(0,t)}},pauseHandler:function(){this.playShow(!1),this.animatePauseArray.length>0&&this.animatePause("pause"),"html5video"==this.playerType&&null!=this.V&&this.config.videoDrawImage&&this.stopVCanvas()},stopVCanvas:function(){null!=this.timerVCanvas&&(this.css(this.V,"display","block"),this.css(this.MD,"display","none"),this.timerVCanvas.runing&&this.timerVCanvas.stop(),this.timerVCanvas=null)},playShow:function(e){this.showFace&&(e?(this.css(this.CB.play,"display","none"),this.css(this.CB.pauseCenter,"display","none"),this.css(this.CB.pause,"display","block")):(this.css(this.CB.play,"display","block"),"none"==this.css(this.CB.errorText,"display")?this.css(this.CB.pauseCenter,"display","block"):this.css(this.CB.pauseCenter,"display","none"),this.css(this.CB.pause,"display","none")))},seekedHandler:function(){this.resetTrack(),this.isTimeButtonMove=!0,this.V.paused&&this.videoPlay()},endedHandler:function(){this.vars.loop||this.videoPause()},volumechangeHandler:function(){if(this.showFace)try{this.V.volume>0?(this.css(this.CB.mute,"display","block"),this.css(this.CB.escMute,"display","none")):(this.css(this.CB.mute,"display","none"),this.css(this.CB.escMute,"display","block"))}catch(e){}},timeUpdateHandler:function(){var e=0
;if("html5video"==this.playerType)try{e=this.V.duration}catch(e){}e>0&&(this.time=this.V.currentTime,this.timeTextHandler(),this.trackShowHandler(),this.isTimeButtonMove&&this.timeProgress(this.time,e))},timeProgress:function(e,t){if(this.showFace){var i=this.CB.timeProgressBg.offsetWidth,s=parseInt(e*i/t-.5*this.CB.timeButton.offsetWidth);s>i-this.CB.timeButton.offsetWidth&&(s=i-this.CB.timeButton.offsetWidth),s<0&&(s=0),this.css(this.CB.timeProgress,"width",s+"px"),this.css(this.CB.timeButton,"left",parseInt(s)+"px")}},timeTextHandler:function(){if(this.showFace){var e=this.V.duration,t=this.V.currentTime;(isNaN(e)||parseInt(e)<.2)&&(e=this.vars.duration),this.CB.timeText.innerHTML=this.formatTime(t)+" / "+this.formatTime(e),this.CB.timeText.offsetWidth>0&&(this.buttonWidth.timeText=this.CB.timeText.offsetWidth)}},bufferEdHandler:function(){if(this.showFace&&"flashplayer"!=this.playerType){var e=this,t=function(){null!=e.timerBuffer&&(e.timerBuffer.runing&&(e.sendJS("buffer",100),e.timerBuffer.stop()),e.timerBuffer=null)};t();var i=function(){if(e.V.buffered.length>0){var i=e.V.duration,s=e.V.buffered.length,n=e.V.buffered.start(s-1),a=e.V.buffered.end(s-1),r=n+a,o=e.CB.timeProgressBg.offsetWidth,l=e.CB.timeButton.offsetWidth,h=parseInt(r*o/i+l);h>=o&&(h=o,t()),e.changeLoad(r)}};this.timerBuffer=new this.timer(200,i)}},changeLoad:function(e){if(null!=this.V&&this.showFace){var t=this.CB.timeProgressBg.offsetWidth,i=this.CB.timeButton.offsetWidth,s=this.V.duration;this.isUndefined(e)?e=this.loadTime:this.loadTime=e;var n=parseInt(e*t/s+i);this.css(this.CB.loadProgress,"width",n+"px")}},judgeIsLive:function(){var e=this;null!=this.timerError&&(this.timerError.runing&&this.timerError.stop(),this.timerError=null),this.error=!1,this.showFace&&this.css(this.CB.errorText,"display","none");var t=function(t){e.timeUpdateHandler()};if(this.vars.live){this.removeListenerInside("timeupdate",t),null!=this.timerTime&&(window.clearInterval(this.timerTime),timerTime=null),null!=this.timerTime&&(this.timerTime.runing&&this.timerTime.stop(),this.timerTime=null);var i=function(){null!=e.V&&!e.V.paused&&e.showFace&&(e.CB.timeText.innerHTML=e.getNowDate())};this.timerTime=new this.timer(1e3,i)}else null!=this.V&&"html5video"==this.playerType&&(this.addListenerInside("timeupdate",t),e.timeTextHandler(),e.prompt(),window.setTimeout(function(){e.bufferEdHandler()},200));this.definition()},loadTrack:function(){if("flashplayer"!=this.playerType&&1!=this.vars.flashplayer){var e=this,t=this.vars.cktrack,i={method:"get",dataType:"text",url:t,charset:"utf-8",success:function(t){e.track=e.parseSrtSubtitles(t),e.trackIndex=0,e.nowTrackShow={sn:""}}};this.ajax(i)}},resetTrack:function(){this.trackIndex=0,this.nowTrackShow={sn:""}},trackShowHandler:function(){if(this.showFace&&!(this.track.length<1)){this.trackIndex>=this.track.length&&(this.trackIndex=0);var e=this.track[this.trackIndex];if(this.time>=e.startTime&&this.time<=e.endTime){var t=this.nowTrackShow;t.sn!=e.sn&&(this.trackHide(),this.trackShow(e))}else this.trackHide(),this.checkTrack()}},trackShow:function(e){this.nowTrackShow=e;for(var t=e.content,i=0;i<t.length;i++){var s={list:[{type:"text",text:t[i],color:"#FFFFFF",size:16,font:this.fontFamily,lineHeight:30}],position:[1,2,null,30*-(t.length-i)-50]},n=this.addElement(s);this.trackElement.push(n)}},trackHide:function(){for(var e=0;e<this.trackElement.length;e++)this.deleteElement(this.trackElement[e]);this.trackElement=[]},checkTrack:function(){var e=this.trackIndex,t=this.track,i=0;for(i=e;i<t.length;i++)if(this.time>=t[i].startTime&&this.time<=t[i].endTime){this.trackIndex=i;break}},playOrPause:function(){if(this.loaded&&this.config.videoClick){if(null==this.V)return;if("flashplayer"==this.playerType)return void this.V.playOrPause();this.V.paused?this.videoPlay():this.videoPause()}},videoPlay:function(){this.loaded&&("flashplayer"!=this.playerType?this.V.play():this.V.videoPlay())},videoPause:function(){this.loaded&&("flashplayer"!=this.playerType?this.V.pause():this.V.videoPause())},videoSeek:function(e){if(this.loaded)if("flashplayer"!=this.playerType){var t=this.getMetaDate(),i=t.duration;i>0&&e>i&&(e=i),e>=0&&(this.V.currentTime=e,this.sendJS("seekTime",e))}else this.V.videoSeek(e)},changeVolume:function(e,t,i){if(this.loaded&&"flashplayer"==this.playerType)this.V.changeVolume(time);else if((isNaN(e)||this.isUndefined(e))&&(e=0),this.loaded||(this.vars.volume=e),this.html5Video){try{this.isUndefined(t)&&(t=!0)}catch(e){}try{this.isUndefined(i)&&(i=!0)}catch(e){}e||(e=0),e<0&&(e=0),e>1&&(e=1);try{this.V.volume=e}catch(e){}if(this.volume=e,t&&this.showFace){var s=e*this.CB.volumeBg.offsetWidth;s<0&&(s=0),s>this.CB.volumeBg.offsetWidth&&(s=this.CB.volumeBg.offsetWidth),this.css(this.CB.volumeUp,"width",s+"px")}if(i&&this.showFace){var n=parseInt(this.CB.volumeUp.offsetWidth-.5*this.CB.volumeBO.offsetWidth);n>this.CB.volumeBg.offsetWidth-this.CB.volumeBO.offsetWidth&&(n=this.CB.volumeBg.offsetWidth-this.CB.volumeBO.offsetWidth),n<0&&(n=0),this.css(this.CB.volumeBO,"left",n+"px")}}else this.V.changeVolume(e)},videoMute:function(){this.loaded&&("flashplayer"!=this.playerType?(this.volumeTemp=this.V&&this.V.volume>0?this.V.volume:this.vars.volume,this.changeVolume(0)):this.V.videoMute())},videoEscMute:function(){this.loaded&&("flashplayer"!=this.playerType?this.changeVolume(this.volumeTemp>0?this.volumeTemp:this.vars.volume):this.V.videoEscMute())},fastBack:function(){if(this.loaded)if("flashplayer"!=this.playerType){var e=this.time-this.ckplayerConfig.config.timeJump;e<0&&(e=0),this.videoSeek(e)}else this.V.fastBack()},fastNext:function(){if(this.loaded)if("flashplayer"!=this.playerType){var e=this.time+this.ckplayerConfig.config.timeJump;e>this.V.duration&&(e=this.V.duration),this.videoSeek(e)}else this.V.fastNext()},getCurrentSrc:function(){if(this.loaded)return"flashplayer"==this.playerType?this.V.getCurrentSrc():this.V.currentSrc},switchFull:function(){this.full?this.quitFullScreen():this.fullScreen()},fullScreen:function(){if(this.html5Video&&"html5video"==this.playerType){var e=this.PD;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.oRequestFullscreen&&e.oRequestFullscreen(),this.judgeFullScreen()}},quitFullScreen:function(){this.html5Video&&"html5video"==this.playerType&&(document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.oRequestFullscreen?document.oCancelFullScreen():document.requestFullscreen?document.requestFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():(this.css(document.documentElement,"cssText",""),this.css(document.document.body,"cssText",""),this.css(this.PD,"cssText","")),this.judgeFullScreen())},videoRotation:function(e){if(this.loaded)if("flashplayer"!=this.playerType){this.isUndefined(e)&&(e=0);var t=this.css(this.V,"transform");this.isUndefined(t)&&!t&&(t="rotate(0deg)");var i=t.match(/rotate\([^)]+\)/);i=i?i[0].replace("rotate(","").replace("deg)",""):"",i=""==i?0:parseInt(i),-1==e?i-=90:1==e?i+=90:i=90!=e&&180!=e&&270!=e&&-90!=e&&-180!=e&&-270!=e?0:e,e=i,t=t.replace(/rotate\([^)]+\)/,"")+" rotate("+e+"deg)",this.css(this.V,"transform",t)}else this.V.videoRotation(e)},videoBrightness:function(e){this.loaded&&("flashplayer"!=this.playerType||this.V.videoBrightness(e))},videoContrast:function(e){this.loaded&&("flashplayer"!=this.playerType||this.V.videoContrast(e))},videoSaturation:function(e){this.loaded&&("flashplayer"!=this.playerType||this.V.videoSaturation(e))},videoHue:function(e){this.loaded&&("flashplayer"!=this.playerType||this.V.videoHue(e))},videoZoom:function(e){if(this.loaded)if("flashplayer"!=this.playerType){this.isUndefined(e)&&(e=1),e<0&&(e=0),e>2&&(e=2);var t=this.css(this.V,"transform");t=t.replace(/scale\([^)]+\)/,"")+" scale("+e+")",this.css(this.V,"transform",t)}else this.V.videoZoom(e)},videoProportion:function(e,t){this.loaded&&("flashplayer"!=this.playerType||this.V.videoProportion(e,t))},adPlay:function(){this.loaded&&("flashplayer"!=this.playerType||this.V.adPlay())},adPause:function(){this.loaded&&("flashplayer"!=this.playerType||this.V.adPause())},videoError:function(e){this.loaded&&("flashplayer"!=this.playerType||this.V.videoError(e))},changeConfig:function(){if(this.loaded)if("flashplayer"!=this.playerType){for(var e=this.ckplayerConfig,t=arguments,i=0;i<t.length-1;i++){if(!e.hasOwnProperty(t[i]))return;e=e[t[i]]}var s=t[t.length-1];switch(t.length){case 2:this.ckplayerConfig[t[0]]=s;break;case 3:this.ckplayerConfig[t[0]][t[1]]=s;break;case 4:this.ckplayerConfig[t[0]][t[1]][t[2]]=s;break;case 5:this.ckplayerConfig[t[0]][t[1]][t[2]][t[3]]=s;break;case 6:this.ckplayerConfig[t[0]][t[1]][t[2]][t[3]][t[4]]=s;break;case 7:this.ckplayerConfig[t[0]][t[1]][t[2]][t[3]][t[4]][t[5]]=s;break;case 8:this.ckplayerConfig[t[0]][t[1]][t[2]][t[3]][t[4]][t[5]][t[6]]=s;break;case 9:this.ckplayerConfig[t[0]][t[1]][t[2]][t[3]][t[4]][t[5]][t[6]][t[7]]=s;break;case 10:this.ckplayerConfig[t[0]][t[1]][t[2]][t[3]][t[4]][t[5]][t[6]][t[7]][t[8]]=s;break;default:return}this.sendJS("configChange",this.ckplayerConfig)}else this.V.changeConfig(arguments)},custom:function(){this.loaded&&("flashplayer"!=this.playerType||this.V.custom(arguments))},getConfig:function(){return this.loaded?"flashplayer"==this.playerType?this.V.getConfig(arguments):void 0:null},openUrl:function(e){this.loaded&&("flashplayer"!=this.playerType||this.V.openUrl(e))},videoClear:function(){this.loaded&&("flashplayer"!=this.playerType||this.V.videoClear())},newVideo:function(e){"flashplayer"!=this.playerType?this.embed(e):this.V.newVideo(e)},screenshot:function(e,t,i){if(this.loaded)if("flashplayer"!=this.playerType){if("video"==e){var s=document.createElement("canvas");s.width=this.V.videoWidth,s.height=this.V.videoHeight,s.getContext("2d").drawImage(this.V,0,0,this.V.videoWidth,this.V.videoHeight);try{var n=s.toDataURL("image/jpeg");this.sendJS("screenshot",{object:e,save:t,name:i,base64:n})}catch(e){this.log(e)}}}else try{this.V.screenshot(e,t,i)}catch(e){this.log(e)}},changeSize:function(e,t){this.isUndefined(e)&&(e=0),this.isUndefined(t)&&(t=0),e>0&&this.css(this.CD,"width",e+"px"),t>0&&this.css(this.CD,"height",t+"px"),this.html5Video&&this.elementCoordinate()},changePlaybackRate:function(e){if(this.html5Video){var t=this.playbackRateArr;e=parseInt(e),e<t.length&&this.newPlaybackrate(t[e][1])}},changeControlBarShow:function(e){this.loaded&&("flashplayer"!=this.playerType?e?(this.controlBarIsShow=!0,this.controlBarHide(!1)):(this.controlBarIsShow=!1,this.controlBarHide(!0)):this.V.changeControlBarShow(e))},embedSWF:function(){var e=this.randomString(),t=this.getFlashVars(),i=this.getFlashplayerParam(),s="http://www.macromedia.com/go/getflashplayer",n="",a=javascriptPath+"ckplayer.swf";id='id="'+e+'" name="'+e+'" ',n+='<object pluginspage="'+s+'" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"  codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=11,3,0,0" width="100%" height="100%" '+id+' align="middle">',n+=i.v,n+='<param name="movie" value="'+a+'">',n+='<param name="flashvars" value="'+t+'">',n+="<embed "+i.w+' src="'+a+'" flashvars="'+t+'" width="100%" height="100%" '+id+' align="middle" type="application/x-shockwave-flash" pluginspage="'+s+'" />',n+="</object>",this.PD.innerHTML=n,this.V=this.getObjectById(e),this.playerType="flashplayer"},getFlashVars:function(){this.getVarsObject();var e=this.vars,t="";for(k in e)if("flashplayer"!=k&&"container"!=k&&""!=e[k]){""!=t&&(t+="&");var i=e[k];1==i&&(i=1),0==i&&(i=0),t+=k+"="+i}return e.hasOwnProperty("volume")&&e.volume||(""!=t&&(t+="&"),t+="volume=0"),t},getVarsObject:function(){var e=this.vars,t="",i="",s="",n=this.VA,a=e.promptSpot,r=0,o=this.vars.video;if("object"==typeof o)if(this.isUndefined(typeof o.length))t=encodeURIComponent(decodeURIComponent(o.file)),this.isUndefined(o.type)||(e.type=o.type),i="",s="";else{n=o;for(r=0;r<n.length;r++){var l=n[r];l&&(""!=t&&(t+=this.ckplayerConfig.config.split,i+=",",s+=",",e.type+=this.ckplayerConfig.config.split),t+=encodeURIComponent(decodeURIComponent(l[0])),i+=l[2],s+=l[3],e.type+=l[1].replace("video/",""))}}else t=encodeURIComponent(decodeURIComponent(o));if(null!=e.preview&&(e.previewscale=e.preview.scale,e.preview=e.preview.file.join(",")),null!=a)for(e.promptspot="",e.promptspottime="",r=0;r<a.length;r++)""!=e.promptspot&&(e.promptspot+=",",e.promptspottime+=","),e.promptspot+=a[r].words,e.promptspottime+=a[r].time;""!=t&&(e.video=t,e.definition=i,e.weight=s),e.volume||(e.volume=0);var h={};for(var d in e)null!=e[d]&&(h[d]=e[d]),"type"==d&&(h[d]=e[d].replace("video/m3u8","m3u8"));this.vars=h},getFlashplayerParam:function(){var e="",t="",i={allowScriptAccess:"always",allowFullScreen:!0,quality:"high",bgcolor:"#000"};for(var s in i)e+=s+'="'+i[s]+'" ',t+='<param name="'+s+'" value="'+i[s]+'" />';return e=e.replace("movie=","src="),{w:e,v:t}},getMetaDate:function(){if(!this.loaded||null==this.V)return!1;if("html5video"==this.playerType){var e=0;try{e=isNaN(this.V.duration)?0:this.V.duration}catch(e){this.log(e)}var t={duration:e,volume:this.V.volume,playbackRate:this.V.playbackRate,width:this.PD.offsetWidth||this.V.offsetWidth||this.V.width,height:this.PD.offsetHeight||this.V.offsetHeight||this.V.height,streamWidth:this.V.videoWidth,streamHeight:this.V.videoHeight,videoWidth:this.V.offsetWidth,videoHeight:this.V.offsetHeight,paused:this.V.paused};return t}try{return this.V.getMetaDate()}catch(e){this.log(e)}return!1},getVideoUrl:function(){if("flashplayer"==this.playerType)return this.V.getVideoUrl();var e=[];if(this.V.src)e.push(this.V.src);else for(var t=this.V.childNodes,i=0;i<t.length;i++)e.push(t[i].src);return e},clickEvent:function(e){if("none"==e||""==e||null==e)return{type:"none"};var t=e.split("->"),i="",s="",n="",a="";if(2==t.length){var r=t[0],o=t[1];if(!o)return{type:"none"};var l="",h=[];switch(i=r,r){case"actionScript":o.indexOf("(")>-1&&(h=o.split("("),o=h[0],l=h[1].replace(")","")),s=""==l?"thisTemp."+o+"()":"thisTemp."+o+"("+l+")";break;case"javaScript":if("[flashvars]"==o.substr(0,11)){if(o=o.substr(11),!this.vars.hasOwnProperty(o))break;o=this.vars[o]}o.indexOf("(")>-1&&(h=o.split("("),o=h[0],l=h[1].replace(")","")),s=""==l?o+"()":o+"("+l+")";break;case"link":var d=(o+",").split(",");if("[flashvars]"==d[0].substr(0,11)){var c=d[0].replace("[flashvars]","");if(!this.vars.hasOwnProperty(c))break;d[0]=this.vars[c]}d[1]||(d[1]="_blank"),n=d[0],a=d[1]}}return{type:i,fun:s,link:n,target:a}},addElement:function(attribute){var thisTemp=this;if("flashplayer"==this.playerType)return this.V.addElement(attribute);var i=0,obj={list:null,x:"100%",y:"50%",position:null,alpha:1,backgroundColor:"",backAlpha:1,backRadius:0,clickEvent:""};obj=this.standardization(obj,attribute);var list=obj.list;if(null==list)return"";var id="element"+this.randomString(10),ele=document.createElement("div");ele.className=id,obj.x&&ele.setAttribute("data-x",obj.x),obj.y&&ele.setAttribute("data-y",obj.y),null!=obj.position&&ele.setAttribute("data-position",obj.position.join(",")),this.PD.appendChild(ele);var eid=this.getByElement(id);this.css(eid,{position:"absolute",filter:"alpha(opacity:"+obj.alpha+")",opacity:obj.alpha.toString(),width:"800px",zIndex:"20"});var bgid="elementbg"+this.randomString(10),bgAlpha=obj.alpha.toString(),bgColor=obj.backgroundColor.replace("0x","#"),html="",idArr=[],clickArr=[],textObj,returnObj,clickEvent;if(!this.isUndefined(list)&&list.length>0)for(i=0;i<list.length;i++){var newEleid="elementnew"+this.randomString(10);switch(list[i].type){case"image":case"png":case"jpg":case"jpeg":case"gif":textObj={type:"image",file:"",radius:0,width:30,height:30,alpha:1,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,marginLeft:0,marginRight:0,marginTop:0,marginBottom:0,backgroundColor:"",clickEvent:""},list[i]=this.standardization(textObj,list[i]),clickEvent=this.clickEvent(list[i].clickEvent),clickArr.push(clickEvent),"link"==clickEvent.type?html+='<div class="'+newEleid+'" data-i="'+i+'"><a href="'+clickEvent.link+'" target="'+clickEvent.target+'"><img class="'+newEleid+'_image" src="'+list[i].file+'" style="border:0;"></a></div>':html+='<div class="'+newEleid+'" data-i="'+i+'"><img class="'+newEleid+'_image" src="'+list[i].file+'" style="border:0;"></div>';break;case"text":textObj={type:"text",text:"",color:"0xFFFFFF",size:14,font:this.fontFamily,leading:0,alpha:1,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,marginLeft:0,marginRight:0,marginTop:0,marginBottom:0,backgroundColor:"",backAlpha:1,backRadius:0,clickEvent:""},list[i]=this.standardization(textObj,list[i]),clickEvent=this.clickEvent(list[i].clickEvent),clickArr.push(clickEvent),"link"==clickEvent.type?html+='<div class="'+newEleid+'" data-i="'+i+'"><div class="'+newEleid+'_bg"></div><div class="'+newEleid+'_text"><a href="'+clickEvent.link+'" target="'+clickEvent.target+'">'+list[i].text+"</a></div></div>":html+='<div  class="'+newEleid+'" data-i="'+i+'"><div class="'+newEleid+'_bg"></div><div class="'+newEleid+'_text">'+list[i].text+"</div></div>"}idArr.push(newEleid)}var objClickEvent=this.clickEvent(obj.clickEvent);if(eid.innerHTML='<div class="'+bgid+'"></div><div class="'+bgid+'_c">'+html+"</div>","javaScript"==objClickEvent.type||"actionScript"==objClickEvent.type){var objClickHandler=function(){eval(objClickEvent.fun),thisTemp.sendJS("clickEvent",clk.type+"->"+clk.fun.replace("thisTemp.","").replace("()",""))};this.addListenerInside("click",objClickHandler,this.getByElement(bgid+"_c"))}for(this.css(bgid+"_c",{position:"absolute",zIndex:"2"}),i=0;i<idArr.length;i++){var clk=clickArr[i];if("javaScript"==clk.type||"actionScript"==clk.type){var clickHandler=function(){clk=clickArr[this.getAttribute("data-i")],eval(clk.fun),thisTemp.sendJS("clickEvent",clk.type+"->"+clk.fun.replace("thisTemp.","").replace("()",""))};this.addListenerInside("click",clickHandler,this.getByElement(idArr[i]))}switch(list[i].type){case"image":case"png":case"jpg":case"jpeg":case"gif":this.css(idArr[i],{float:"left",width:list[i].width+"px",height:list[i].height+"px",filter:"alpha(opacity:"+list[i].alpha+")",opacity:list[i].alpha.toString(),marginLeft:list[i].marginLeft+"px",marginRight:list[i].marginRight+"px",marginTop:list[i].marginTop+"px",marginBottom:list[i].marginBottom+"px",borderRadius:list[i].radius+"px",cursor:"pointer"}),this.css(idArr[i]+"_image",{width:list[i].width+"px",height:list[i].height+"px",borderRadius:list[i].radius+"px"});break;case"text":this.css(idArr[i]+"_text",{filter:"alpha(opacity:"+list[i].alpha+")",opacity:list[i].alpha.toString(),borderRadius:list[i].radius+"px",fontFamily:list[i].font,fontSize:list[i].size+"px",color:list[i].color.replace("0x","#"),lineHeight:list[i].leading>0?list[i].leading+"px":"",paddingLeft:list[i].paddingLeft+"px",paddingRight:list[i].paddingRight+"px",paddingTop:list[i].paddingTop+"px",paddingBottom:list[i].paddingBottom+"px",whiteSpace:"nowrap",position:"absolute",zIndex:"3",cursor:"pointer"}),this.css(idArr[i],{float:"left",width:this.getByElement(idArr[i]+"_text").offsetWidth+"px",height:this.getByElement(idArr[i]+"_text").offsetHeight+"px",marginLeft:list[i].marginLeft+"px",marginRight:list[i].marginRight+"px",marginTop:list[i].marginTop+"px",marginBottom:list[i].marginBottom+"px"}),this.css(idArr[i]+"_bg",{width:this.getByElement(idArr[i]+"_text").offsetWidth+"px",height:this.getByElement(idArr[i]+"_text").offsetHeight+"px",filter:"alpha(opacity:"+list[i].backAlpha+")",opacity:list[i].backAlpha.toString(),borderRadius:list[i].backRadius+"px",backgroundColor:list[i].backgroundColor.replace("0x","#"),position:"absolute",zIndex:"2"})}}this.css(bgid,{width:this.getByElement(bgid+"_c").offsetWidth+"px",height:this.getByElement(bgid+"_c").offsetHeight+"px",position:"absolute",filter:"alpha(opacity:"+bgAlpha+")",opacity:bgAlpha,backgroundColor:bgColor.replace("0x","#"),borderRadius:obj.backRadius+"px",zIndex:"1"}),this.css(eid,{width:this.getByElement(bgid).offsetWidth+"px",height:this.getByElement(bgid).offsetHeight+"px"});var eidCoor=this.calculationCoor(eid);return this.css(eid,{left:eidCoor.x+"px",top:eidCoor.y+"px"}),this.elementArr.push(eid.className),eid},getElement:function(e){if("flashplayer"==this.playerType)return this.V.getElement(e);var t=e;"string"==typeof e&&(t=this.getByElement(e));var i=this.getCoor(t);return{x:i.x,y:i.y,width:t.offsetWidth,height:t.offsetHeight,alpha:this.isUndefined(this.css(t,"opacity"))?1:parseFloat(this.css(t,"opacity"))}},calculationCoor:function(e){if("flashplayer"==this.playerType)return this.V.calculationCoor(e);if(e!=[]){var t,i,s=[],n=this.PD.offsetWidth,a=this.PD.offsetHeight,r=e.offsetWidth,o=e.offsetHeight;if(this.isUndefined(this.getDataset(e,"x"))||(t=this.getDataset(e,"x")),this.isUndefined(this.getDataset(e,"y"))||(i=this.getDataset(e,"y")),!this.isUndefined(this.getDataset(e,"position")))try{s=this.getDataset(e,"position").toString().split(",")}catch(e){}if(s.length>0){s.push(null,null,null,null);var l=0;for(l=0;l<s.length;l++)this.isUndefined(s[l])||null==s[l]||"null"==s[l]||""==s[l]?s[l]=null:s[l]=parseFloat(s[l]);if(null==s[2])switch(s[0]){case 0:t=0;break;case 1:t=parseInt(.5*(n-r));break;default:t=n-r}else switch(s[0]){case 0:t=s[2];break;case 1:t=parseInt(.5*n)+s[2];break;default:t=n+s[2]}if(null==s[3])switch(s[1]){case 0:i=0;break;case 1:i=parseInt(.5*(a-o));break;default:i=a-o}else switch(s[1]){case 0:i=s[3];break;case 1:i=parseInt(.5*a)+s[3];break;default:i=a+s[3]}}else"%"==t.substring(t.length-1,t.length)&&(t=Math.floor(parseInt(t.substring(0,t.length-1))*n*.01)),"%"==i.substring(i.length-1,i.length)&&(i=Math.floor(parseInt(i.substring(0,i.length-1))*a*.01));return{x:t,y:i}}},changeElementCoor:function(){for(var e=0;e<this.elementArr.length;e++)if(this.getByElement(this.elementArr[e])!=[]){var t=this.calculationCoor(this.getByElement(this.elementArr[e]));t.x&&t.y&&this.css(this.elementArr[e],{top:t.y+"px",left:t.x+"px"})}},tween:function(){var e={None:{easeIn:function(e,t,i,s){return i*e/s+t},easeOut:function(e,t,i,s){return i*e/s+t},easeInOut:function(e,t,i,s){return i*e/s+t}},Quadratic:{easeIn:function(e,t,i,s){return i*(e/=s)*e+t},easeOut:function(e,t,i,s){return-i*(e/=s)*(e-2)+t},easeInOut:function(e,t,i,s){return(e/=s/2)<1?i/2*e*e+t:-i/2*(--e*(e-2)-1)+t}},Cubic:{easeIn:function(e,t,i,s){return i*(e/=s)*e*e+t},easeOut:function(e,t,i,s){return i*((e=e/s-1)*e*e+1)+t},easeInOut:function(e,t,i,s){return(e/=s/2)<1?i/2*e*e*e+t:i/2*((e-=2)*e*e+2)+t}},Quartic:{easeIn:function(e,t,i,s){return i*(e/=s)*e*e*e+t},easeOut:function(e,t,i,s){return-i*((e=e/s-1)*e*e*e-1)+t},easeInOut:function(e,t,i,s){return(e/=s/2)<1?i/2*e*e*e*e+t:-i/2*((e-=2)*e*e*e-2)+t}},Quintic:{easeIn:function(e,t,i,s){return i*(e/=s)*e*e*e*e+t},easeOut:function(e,t,i,s){return i*((e=e/s-1)*e*e*e*e+1)+t},easeInOut:function(e,t,i,s){return(e/=s/2)<1?i/2*e*e*e*e*e+t:i/2*((e-=2)*e*e*e*e+2)+t}},Sine:{easeIn:function(e,t,i,s){return-i*Math.cos(e/s*(Math.PI/2))+i+t},easeOut:function(e,t,i,s){return i*Math.sin(e/s*(Math.PI/2))+t},easeInOut:function(e,t,i,s){return-i/2*(Math.cos(Math.PI*e/s)-1)+t}},Exponential:{easeIn:function(e,t,i,s){return 0==e?t:i*Math.pow(2,10*(e/s-1))+t},easeOut:function(e,t,i,s){return e==s?t+i:i*(1-Math.pow(2,-10*e/s))+t},easeInOut:function(e,t,i,s){return 0==e?t:e==s?t+i:(e/=s/2)<1?i/2*Math.pow(2,10*(e-1))+t:i/2*(2-Math.pow(2,-10*--e))+t}},Circular:{easeIn:function(e,t,i,s){return-i*(Math.sqrt(1-(e/=s)*e)-1)+t},easeOut:function(e,t,i,s){return i*Math.sqrt(1-(e=e/s-1)*e)+t},easeInOut:function(e,t,i,s){return(e/=s/2)<1?-i/2*(Math.sqrt(1-e*e)-1)+t:i/2*(Math.sqrt(1-(e-=2)*e)+1)+t}},Elastic:{easeIn:function(e,t,i,s,n,a){if(0==e)return t;if(1==(e/=s))return t+i;if(a||(a=.3*s),!n||n<Math.abs(i)){n=i;var r=a/4}else r=a/(2*Math.PI)*Math.asin(i/n);return-n*Math.pow(2,10*(e-=1))*Math.sin((e*s-r)*(2*Math.PI)/a)+t},easeOut:function(e,t,i,s,n,a){if(0==e)return t;if(1==(e/=s))return t+i;if(a||(a=.3*s),!n||n<Math.abs(i)){n=i;var r=a/4}else r=a/(2*Math.PI)*Math.asin(i/n);return n*Math.pow(2,-10*e)*Math.sin((e*s-r)*(2*Math.PI)/a)+i+t},easeInOut:function(e,t,i,s,n,a){if(0==e)return t;if(2==(e/=s/2))return t+i;if(a||(a=s*(.3*1.5)),!n||n<Math.abs(i)){n=i;var r=a/4}else r=a/(2*Math.PI)*Math.asin(i/n);return e<1?n*Math.pow(2,10*(e-=1))*Math.sin((e*s-r)*(2*Math.PI)/a)*-.5+t:n*Math.pow(2,-10*(e-=1))*Math.sin((e*s-r)*(2*Math.PI)/a)*.5+i+t}},Back:{easeIn:function(e,t,i,s,n){return null==n&&(n=1.70158),i*(e/=s)*e*((n+1)*e-n)+t},easeOut:function(e,t,i,s,n){return null==n&&(n=1.70158),i*((e=e/s-1)*e*((n+1)*e+n)+1)+t},easeInOut:function(e,t,i,s,n){return null==n&&(n=1.70158),(e/=s/2)<1?i/2*(e*e*((1+(n*=1.525))*e-n))+t:i/2*((e-=2)*e*((1+(n*=1.525))*e+n)+2)+t}},Bounce:{easeIn:function(t,i,s,n){return s-e.Bounce.easeOut(n-t,0,s,n)+i},easeOut:function(e,t,i,s){return(e/=s)<1/2.75?i*(7.5625*e*e)+t:e<2/2.75?i*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?i*(7.5625*(e-=2.25/2.75)*e+.9375)+t:i*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOut:function(t,i,s,n){return t<n/2?.5*e.Bounce.easeIn(2*t,0,s,n)+i:.5*e.Bounce.easeOut(2*t-n,0,s,n)+.5*s+i}}};return e},animate:function(attribute){if("flashplayer"==this.playerType)return this.V.animate(attribute);var thisTemp=this,animateId="animate_"+this.randomString(),obj={element:null,parameter:"x",static:!1,effect:"None.easeIn",start:null,end:null,speed:0,overStop:!1,pauseStop:!1,callBack:null};if(obj=this.standardization(obj,attribute),null==obj.element||0==obj.speed)return!1;var w=this.PD.offsetWidth,h=this.PD.offsetHeight,effArr=(obj.effect+".").split("."),tweenFun=this.tween()[effArr[0]][effArr[1]],eleCoor={x:0,y:0};if(this.isUndefined(tweenFun))return!1;var def=this.arrIndexOf(this.elementArr,obj.element.className);def>-1&&this.elementArr.splice(def,1);var css={},pm=this.getElement(obj.element),t=0,b=0,c=0,d=1e3*obj.speed,timerTween=null,tweenObj=null,start=null==obj.start?"":obj.start.toString(),end=null==obj.end?"":obj.end.toString();switch(obj.parameter){case"x":b=null==obj.start?pm.x:"%"==start.substring(start.length-1,start.length)?parseInt(start)*w*.01:parseInt(start),c=null==obj.end?pm.x-b:"%"==end.substring(end.length-1,end.length)?parseInt(end)*w*.01-b:"-"==end.substring(0,1)||"+"==end.substring(0,1)?"number"==typeof obj.end?parseInt(obj.end)-b:parseInt(end):parseInt(end)-b;break;case"y":b=null==obj.start?pm.y:"%"==start.substring(start.length-1,start.length)?parseInt(start)*h*.01:parseInt(start),c=null==obj.end?pm.y-b:"%"==end.substring(end.length-1,end.length)?parseInt(end)*h*.01-b:"-"==end.substring(0,1)||"+"==end.substring(0,1)?"number"==typeof obj.end?parseInt(obj.end)-b:parseInt(end):parseInt(end)-b;break;case"alpha":b=null==obj.start?100*pm.alpha:"%"==start.substring(start.length-1,start.length)?parseInt(obj.start):parseInt(100*obj.start),c=null==obj.end?100*pm.alpha-b:"%"==end.substring(end.length-1,end.length)?parseInt(end)-b:"-"==end.substring(0,1)||"+"==end.substring(0,1)?"number"==typeof obj.end?100*parseInt(obj.end)-b:100*parseInt(obj.end):100*parseInt(obj.end)-b}var callBack=function(){var index=thisTemp.arrIndexOf(thisTemp.animateElementArray,animateId);if(index>-1&&(thisTemp.animateArray.splice(index,1),thisTemp.animateElementArray.splice(index,1)),index=thisTemp.arrIndexOf(thisTemp.animatePauseArray,animateId),index>-1&&thisTemp.animatePauseArray.splice(index,1),null!=obj.callBack&&obj.element&&"callBack"!=obj.callBack&&"tweenX"!=obj.callBack&&"callBack"!=obj.tweenY&&"tweenAlpha"!=obj.callBack){var cb=eval(obj.callBack);cb(obj.element),obj.callBack=null}},stopTween=function(){null!=timerTween&&(timerTween.runing&&timerTween.stop(),timerTween=null)},tweenX=function(){t<d?(t+=10,css={left:Math.ceil(tweenFun(t,b,c,d))+"px"},obj.static&&(eleCoor=thisTemp.calculationCoor(obj.element),css.top=eleCoor.y+"px"),thisTemp.css(obj.element,css)):(stopTween(),thisTemp.elementArr.push(obj.element.className),callBack())},tweenY=function(){t<d?(t+=10,css={top:Math.ceil(tweenFun(t,b,c,d))+"px"},obj.static&&(eleCoor=thisTemp.calculationCoor(obj.element),css.left=eleCoor.x+"px"),thisTemp.css(obj.element,css)):(stopTween(),thisTemp.elementArr.push(obj.element.className),callBack())},tweenAlpha=function(){if(t<d){t+=10,eleCoor=thisTemp.calculationCoor(obj.element);var e=.01*Math.ceil(tweenFun(t,b,c,d));css={filter:"alpha(opacity:"+e+")",opacity:e.toString()},obj.static&&(eleCoor=thisTemp.calculationCoor(obj.element),css.top=eleCoor.y+"px",css.left=eleCoor.x+"px"),thisTemp.css(obj.element,css)}else stopTween(),thisTemp.elementArr.push(obj.element.className),callBack()};switch(obj.parameter){case"x":tweenObj=tweenX;break;case"y":tweenObj=tweenY;break;case"alpha":tweenObj=tweenAlpha}if(timerTween=new thisTemp.timer(10,tweenObj),timerTween.callBackFunction=callBack,obj.overStop){var mouseOver=function(){null!=timerTween&&timerTween.runing&&timerTween.stop()};this.addListenerInside("mouseover",mouseOver,obj.element);var mouseOut=function(){var e=!0;obj.pauseStop&&thisTemp.getMetaDate().paused&&(e=!1),null!=timerTween&&!timerTween.runing&&e&&timerTween.start()};this.addListenerInside("mouseout",mouseOut,obj.element)}return this.animateArray.push(timerTween),this.animateElementArray.push(animateId),obj.pauseStop&&this.animatePauseArray.push(animateId),animateId},animateResume:function(e){if("flashplayer"!=this.playerType){var t=[];""==e||this.isUndefined(e)||"pause"==e?t="pause"===e?this.animatePauseArray:this.animateElementArray:t.push(e);for(var i=0;i<t.length;i++){var s=this.arrIndexOf(this.animateElementArray,t[i]);s>-1&&this.animateArray[s].start()}}else this.V.animateResume(this.isUndefined(e)?"":e)},animatePause:function(e){if("flashplayer"!=this.playerType){var t=[];""==e||this.isUndefined(e)||"pause"==e?t="pause"===e?this.animatePauseArray:this.animateElementArray:t.push(e);for(var i=0;i<t.length;i++){var s=this.arrIndexOf(this.animateElementArray,t[i]);s>-1&&this.animateArray[s].stop()}}else this.V.animatePause(this.isUndefined(e)?"":e)},deleteAnimate:function(e){if("flashplayer"==this.playerType&&this.V)try{this.V.deleteAnimate(e)}catch(e){this.log(e)}else{var t=this.arrIndexOf(this.animateElementArray,e);t>-1&&(this.animateArray[t].callBackFunction(),this.animateArray.splice(t,1),this.animateElementArray.splice(t,1))}},deleteElement:function(e){if("flashplayer"==this.playerType&&this.V)try{this.V.deleteElement(e)}catch(e){}else{var t=this.arrIndexOf(this.elementArr,e.className);t>-1&&this.elementArr.splice(t,1),this.deleteAnimate(e),this.deleteChild(e)}},getByElement:function(e,t){this.isUndefined(t)&&(t=document);var i=e.substr(0,1),s=[];if("#"!=i){if("."==i&&(e=e.substr(1,e.length)),t.getElementsByClassName)s=t.getElementsByClassName(e);else for(var n=new RegExp(" "+e+" ","i"),a=t.getElementsByTagName("*"),r=0;r<a.length;r++)n.test(" "+a[r].className+" ")&&s.push(a[r]);return s.length>0?s[0]:s}return"#"==i&&(e=e.substr(1,e.length)),document.getElementById(e)},css:function(e,t,i){var s=0,n="";if("object"!=typeof e||this.isUndefined(typeof e.length))if("string"==typeof e&&(e=this.getByElement(e)),"object"!=typeof t){if(this.isUndefined(i))return!this.isUndefined(this.getStyle(e,t))&&this.getStyle(e,t);e.style[t]=i}else for(n in t)this.isUndefined(t[n])||(e.style[n]=t[n]);else for(s=0;s<e.length;s++){var a;if(a="string"==typeof e[s]?this.getByElement(e[s]):e[s],"object"!=typeof t)this.isUndefined(i)||(a.style[t]=i);else for(n in t)this.isUndefined(t[n])||(a.style[n]=t[n])}},getStyle:function(e,t){return this.isUndefined(e.style[t])?e.currentStyle?e.currentStyle[t]:getComputedStyle(e,!1)[t]:e.style[t]},isUndefined:function(e){try{if("undefined"==e||null==e)return!0}catch(e){this.log(e)}return!1},addListener:function(e,t){if(e&&t){if("flashplayer"==this.playerType){var i="";return"function"==typeof t&&(i=this.getParameterNames(t)),void this.V.addListener(e,i)}for(var s=!1,n=0;n<this.listenerJsArr.length;n++){
var a=this.listenerJsArr[n];if(a[0]==e&&a[1]==t){s=!0;break}}s||this.listenerJsArr.push([e,t])}},removeListener:function(e,t){if(e&&t){if("flashplayer"==this.playerType){var i="";return"function"==typeof t&&(i=this.getParameterNames(t)),void this.V.removeListener(e,i)}for(var s=0;s<this.listenerJsArr.length;s++){var n=this.listenerJsArr[s];if(n[0]==e&&n[1]==t){this.listenerJsArr.splice(s,1);break}}}},addListenerInside:function(e,t,i,s){this.isUndefined(s)&&(s=!1);var n=this.V;if(this.isUndefined(i)||(n=i),n.addEventListener)try{n.addEventListener(e,t,s)}catch(e){}else if(n.attachEvent)try{n.attachEvent("on"+e,t)}catch(e){}else n["on"+e]=t},removeListenerInside:function(e,t,i,s){this.isUndefined(s)&&(s=!1);var n=this.V;if(this.isUndefined(i)||(n=i),n.removeEventListener)try{this.addNum--,n.removeEventListener(e,t,s)}catch(e){}else if(n.detachEvent)try{n.detachEvent("on"+e,t)}catch(e){}else n["on"+e]=null},sendJS:function(e,t){var i=this.listenerJsArr,s={variable:this.vars.variable};this.vars.playerID&&(s.playerID=this.vars.playerID);for(var n=0;n<i.length;n++){var a=i[n];if(a[0]==e)if(t)switch(a[1].length){case 1:a[1](t);break;case 2:a[1](t,s);break;default:a[1]()}else switch(a[1].length){case 1:a[1](s);break;default:a[1]()}}},getParameterNames:function(e){if("function"!=typeof e)return!1;var t=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,i=e.toString().replace(t,""),s=i.slice(i.indexOf(" ")+1,i.indexOf("("));return null!==s&&s},getNowDate:function(){var e=new Date,t=e.getMonth()+1,i=e.getDate(),s=e.getHours(),n=e.getMinutes(),a=e.getSeconds(),r="",o="",l="",h="",d="";d=a<10?"0"+a:a+"",h=n<10?"0"+n:n+"",l=s<10?"0"+s:s+"",o=i<10?"0"+i:i+"",r=t<10?"0"+t:t+"";return r+"/"+o+" "+l+":"+h+":"+d},formatTime:function(e,t){var i="",s="",n="";isNaN(e)&&(e=0);var a=Math.floor(e%60),r=0,o=0;return t?(r=Math.floor(e/60)%60,o=Math.floor(e/3600)):r=Math.floor(e/60),i=a<10?"0"+a:a+"",s=r>0?r<10?"0"+r+":":r+":":"00:",n=o>0?o<10?"0"+o+":":o+":":"",t?n+s+i:s+i},randomString:function(e){e=e||16;var t="abcdefghijklmnopqrstuvwxyz",s=t.length,n="";for(i=0;i<e;i++)n+=t.charAt(Math.floor(Math.random()*s));return"ch"+n},getStringLen:function(e){for(var t=0,i=0;i<e.length;i++)e.charCodeAt(i)>127||94==e.charCodeAt(i)?t+=2:t++;return t},createXHR:function(){if(window.XMLHttpRequest)return new XMLHttpRequest;if(window.ActiveXObject)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){this.eject(this.errorList[7])}}else this.eject(this.errorList[8])},ajax:function(cObj){var thisTemp=this,callback=null,obj={method:"get",dataType:"json",charset:"utf-8",async:!1,url:"",data:null,success:null};if("object"==typeof cObj){if(obj=this.standardization(obj,cObj),"json"===obj.dataType||"text"===obj.dataType||"html"===obj.dataType){var xhr=this.createXHR();callback=function(){if(200==xhr.status){if(null==obj.success)return;if("json"===obj.dataType)try{obj.success(eval("("+xhr.responseText+")"))}catch(e){obj.success(null)}else obj.success(xhr.responseText)}else thisTemp.eject(thisTemp.errorList[10],"Ajax.status:"+xhr.status)},obj.url=obj.url+"?rand="+this.randomString(6),obj.data=this.formatParams(obj.data),"get"!==obj.method||this.isUndefined(obj.data)||(obj.url+=-1==obj.url.indexOf("?")?"?"+obj.data:"&"+obj.data),!0===obj.async&&(xhr.onreadystatechange=function(){4==xhr.readyState&&callback()}),xhr.open(obj.method,obj.url,obj.async),"post"===obj.method?(xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),xhr.setRequestHeader("charset",obj.charset),xhr.send(obj.data)):xhr.send(null),!1===obj.async&&callback()}else if("jsonp"===obj.dataType){var oHead=document.getElementsByTagName("head")[0],oScript=document.createElement("script"),callbackName="callback"+(new Date).getTime(),params=this.formatParams(obj.data)+"&callback="+callbackName;callback=obj.success,oScript.src=obj.url.split("?")+"?"+params,oHead.insertBefore(oScript,oHead.firstChild),window[callbackName]=function(e){callback(e),oHead.removeChild(oScript)}}}else this.eject(this.errorList[9])},loadJs:function(e,t){var i=document.getElementsByTagName("HEAD").item(0),s=document.createElement("script");s.type="text/javascript",s.src=this.getNewUrl(e),i.appendChild(s),s.onload=function(){t()}},isMsie:function(){var e=navigator.appName,t=navigator.appVersion,i=t.split(";"),s="";return i.length>1&&(s=i[1].replace(/[ ]/g,"")),"Microsoft Internet Explorer"!=e||"MSIE6.0"!=s&&"MSIE7.0"!=s&&"MSIE8.0"!=s&&"MSIE9.0"!=s&&"MSIE10.0"!=s},uploadFlash:function(){if(navigator.userAgent.indexOf("MSIE")>0)try{var e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");return!0}catch(e){return!1}return!(navigator.userAgent.indexOf("Firefox")>0)||(e=navigator.plugins["Shockwave Flash"],!!e)},supportVideo:function(){if(!this.isMsie())return!1;if(document.createElement("video").canPlayType){var e,t,i=document.createElement("video");try{e=i.canPlayType('video/ogg; codecs="theora, vorbis"')}catch(t){e=!1}if(e)return"probably"==e;try{t=i.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')}catch(e){t=!1}return!!t&&"probably"==t}return!1},getDataset:function(e,t){try{return e.dataset[t]}catch(i){try{return e.getAttribute("data-"+t)}catch(e){return!1}}},getObjectById:function(e){var t=null,i=this.getByElement("#"+e),s="embed";if(i&&"OBJECT"==i.nodeName)if(void 0!==i.SetVariable)t=i;else{var n=i.getElementsByTagName(s)[0];n&&(t=n)}return t},formatParams:function(e){var t=[];for(var i in e)t.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return t.join("&")},arrSort:function(e){for(var t=[],i=0;i<e.length;i++)for(var s=0;s<e.length-i;s++)!this.isUndefined(e[s+1])&&e[s][3]<e[s+1][3]&&(t=e[s+1],e[s+1]=e[s],e[s]=t);return e},getFileExt:function(e){if(""!=e&&!this.isUndefined(e)){e.indexOf("?")>-1&&(e=e.split("?")[0]);var t="."+e.replace(/.+\./,"");return t}return""},isMobile:function(){return!!navigator.userAgent.match(/(iPhone|iPad|iPod|Android|ios)/i)},isContains:function(e,t){return e.indexOf(t)>-1},getNewUrl:function(e){return this.isContains(e,"?")?e+"&"+this.randomString(8)+"="+this.randomString(8):e+"?"+this.randomString(8)+"="+this.randomString(8)},client:function(e){var t=e||window.event;return this.isUndefined(t)&&(t={clientX:0,clientY:0}),{x:t.clientX+(document.documentElement.scrollLeft||this.body.scrollLeft)-this.pdCoor.x,y:t.clientY+(document.documentElement.scrollTop||this.body.scrollTop)-this.pdCoor.y}},getCoor:function(e){var t=this.getXY(e);return{x:t.x-this.pdCoor.x,y:t.y-this.pdCoor.y}},getXY:function(e){for(var t=e,i=e.offsetLeft,s=e.offsetTop;t=t.offsetParent;)i+=t.offsetLeft,s+=t.offsetTop;return{x:i,y:s}},removeChild:function(){if("html5video"==this.playerType){var e=0,t=[this.timerError,this.timerFull,this.timerTime,this.timerBuffer,this.timerClick,this.timerLoading,this.timerCBar,this.timerVCanvas];for(e=0;e<t.length;e++)null!=t[e]&&(t[e].runing&&t[e].stop(),t[e]=null);var i=this.listenerJsArr;for(e=0;e<i.length;e++)this.removeListener(i[e][0],i[e][1])}this.playerType,this.V=null,this.showFace&&this.deleteChild(this.CB.menu),this.deleteChild(this.PD),this.CD.innerHTML=""},canvasFill:function(e,t){e.beginPath();for(var i=0;i<t.length;i++){var s=t[i];i>0?e.lineTo(s[0],s[1]):e.moveTo(s[0],s[1])}e.closePath(),e.fill()},canvasFillRect:function(e,t){for(var i=0;i<t.length;i++){var s=t[i];e.fillRect(s[0],s[1],s[2],s[3])}},deleteChild:function(e){var t=this.arrIndexOf(this.elementArr,e.className);t>-1&&this.elementArr.splice(t,1);for(var i=e.childNodes,s=i.length-1;s>=0;s--)e.removeChild(i[s]);if(e&&null!=e&&e.parentNode)try{e.parentNode&&e.parentNode.removeChild(e)}catch(e){}},getProportionCoor:function(e,t,i,s){var n=0,a=0,r=0,o=0;return e/t<i/s?(n=e,a=n*s/i):(a=t,n=a*i/s),r=.5*(e-n),o=.5*(t-a),{width:parseInt(n),height:parseInt(a),x:parseInt(r),y:parseInt(o)}},parseSrtSubtitles:function(e){var t=[],i=[],s=0,n=e.split("\n"),a=[],r=function(e){return e.replace(/<[^>]+>/g,"")};for(s=0;s<n.length;s++)n[s].replace(/\s/g,"").length>0?a.push(n[s]):(a.length>0&&i.push(a),a=[]);for(s=0;s<i.length;++s){var o=i[s];if(o.length>=2){var l=o[0],h=this.toSeconds(this.trim(o[1].split(" --> ")[0])),d=this.toSeconds(this.trim(o[1].split(" --> ")[1])),c=[r(o[2])];if(o.length>2)for(var u=3;u<o.length;u++)c.push(r(o[u]));var p={sn:l,startTime:h,endTime:d,content:c};t.push(p)}}return t},timer:function(e,t,i){var s=this;this.time=10,this.fun=null,this.timeObj=null,this.number=0,this.numberTotal=null,this.runing=!1,this.startFun=function(){s.number++,s.fun(),null!=s.numberTotal&&s.number>=s.numberTotal&&s.stop()},this.start=function(){s.runing||(s.runing=!0,s.timeObj=window.setInterval(s.startFun,e))},this.stop=function(){s.runing&&(s.runing=!1,window.clearInterval(s.timeObj),s.timeObj=null)},e&&(this.time=e),t&&(this.fun=t),i&&(this.numberTotal=i),this.start()},toSeconds:function(e){var t=0;if(e){var s=e.split(":");for(i=0;i<s.length;i++)t=60*t+parseFloat(s[i].replace(",","."))}return t},standardization:function(e,t){var i,s={};for(i in e)s[i]=e[i];for(i in t){var n=typeof s[i];switch(n){case"number":s[i]=parseFloat(t[i]);break;default:s[i]=t[i]}}return s},arrIndexOf:function(e,t){var i=new RegExp(t,[""]);return e.toString().replace(i,"┢").replace(/[^,┢]/g,"").indexOf("┢")},trim:function(e){return""!=e?e.replace(/(^\s*)|(\s*$)/g,""):""},log:function(e){try{console.log(e)}catch(e){}},eject:function(e,t){if(this.vars.debug){var i=e[1];this.isUndefined(t)||(i=i.replace("[error]",t));var s="error "+e[0]+":"+i;try{this.log(s)}catch(e){}}}},window.ckplayer=ckplayer}();